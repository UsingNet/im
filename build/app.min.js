!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(2),o=r(i),a=n(19),s=r(a);n(96);var c=n(6),u=r(c),l=n(109),f=r(l),p=n(7),h=r(p),d=n(22),y=r(d);window.usingnetCrm={};var m=y["default"].host.replace("//","");if(location.host!==m){var v=function(e,t){var n=y["default"].host+"?from="+b+"&to="+e+"&uesr_info="+t+"&href="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(document.title),r=document.createElement("div");r.id="__USINGNET_CHAT";var i=document.createElement("iframe");i.id="__USINGNET_CHAT_IFRAME",i.src=n,i.style.border=0,r.appendChild(i),document.body.appendChild(r);var a=new o["default"](r);a.render(document.body),window.usingnetCrm.hide=function(){document.getElementById("__USINGNET_HANDLE").style.display="none"},window.usingnetCrm.show=function(){document.getElementById("__USINGNET_HANDLE").style.display="block"},window.usingnetCrm.getUrl=function(){return n}},g="__USINGNET_TRACK_ID",b=h["default"].get(g);b||(b=(0,u["default"])(),h["default"].set(g,b)),"function"==typeof window.usingnetJsonP&&usingnetJsonP(v)}else{var x=new s["default"]((0,f["default"])("from"),(0,f["default"])("to"),(0,f["default"])("user_info"),(0,f["default"])("href"),(0,f["default"])("title"));x.render(document.getElementById("view"))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=r(a),c=n(5),u=r(c),l=n(6),f=(r(l),n(7)),p=r(f),h=n(8),d=r(h),y=function(){function e(t){i(this,e),this.chat=t,this.elm=document.createElement("div"),this.elm.id="__USINGNET_HANDLE",this.cookieKey="__USINGNET_CHAT_STATUS"}return o(e,[{key:"startChat",value:function(){var e=document.getElementById("__USINGNET_HANDLE_UNREAD");if(e.innerText.trim())var t={action:"read"};else var t={action:"chatting"};this.chat.querySelector("iframe").contentWindow.postMessage(JSON.stringify(t),"*"),this.elm.style.display="none",this.chat.style.display="block",e.innerText=0,e.style.display="none",p["default"].set(this.cookieKey,"open")}},{key:"init",value:function(e,t){var n=this.elm,r=this,i=new d["default"](s["default"]).render({setting:t});n.innerHTML=i,e.appendChild(n);var o=n.querySelector("#__USINGNET_HANDLE_UNREAD");switch(t.web.direction){case"bottom-right":n.style.right=30+parseInt(t.web.page_distance)+"px",n.style.bottom=30+parseInt(t.web.page_bottom_distance)+"px";break;case"bottom-left":n.style.left=30+parseInt(t.web.page_distance)+"px",n.style.bottom=30+parseInt(t.web.page_bottom_distance)+"px";break;case"middle-right":n.style.right=30+parseInt(t.web.page_distance)+"px";var a=n.querySelector(".__USINGNET_HANDLE_ICON").clientHeight;n.style.bottom=(window.innerHeight-a)/2+"px";break;case"middle-left":n.style.left=30+parseInt(t.web.page_distance)+"px";var a=n.querySelector(".__USINGNET_HANDLE_ICON").clientHeight;n.style.bottom=(window.innerHeight-a)/2+"px"}if(n.addEventListener("click",function(){r.startChat();var e=document.getElementById("__USINGNET_INVITE");e&&(e.style.display="none"),p["default"].set("__USINGNET_INVITE_CLOSED",1)}),t.online&&t.web.invite&&!p["default"].get("__USINGNET_INVITE_CLOSED")){var c=document.createElement("div");c.id="__USINGNET_INVITE";var i=new d["default"](u["default"]).render({setting:t});c.innerHTML=i,e.appendChild(c);var l=c.querySelector("#__USINGNET_INVITE_IMG");l.addEventListener("load",function(){var e=c.querySelector("#__USINGNET_INVITE_CLOSE");c.querySelector("#__USINGNET_INVITE_TXT");c.style.cssText="position: absolute; top: 0; left: 0; bottom: 0;\n          right: 0; width:"+l.width+"px; height: "+l.height+"px; margin: auto; display: none; cursor: pointer";var n=t.web.invite_wait_time||0;setTimeout(function(){c.style.display="block"},n),c.addEventListener("click",function(){r.startChat(o),p["default"].set("__USINGNET_INVITE_CLOSED",1),c.style.display="none"}),e.addEventListener("click",function(){p["default"].set("__USINGNET_INVITE_CLOSED",1),c.style.display="none"})})}var f=p["default"].get("__USINGNET_CHAT_STATUS");"open"===f&&(r.elm.style.display="none",r.chat.style.display="block",p["default"].set(r.cookieKey,"open"))}},{key:"render",value:function(e){var t=this;window.addEventListener("message",function(n){var n=JSON.parse(n.data);switch(n.action){case"init":t.init(e,n.data);break;case"minimize":t.chat.style.display="none",t.elm.style.display="block",p["default"].set(t.cookieKey,"closed");break;case"unread":var r=document.getElementById("__USINGNET_HANDLE_UNREAD");if("none"!==t.elm.style.display){var i=0;r.innerText.trim()&&(i=parseInt(r.innerText,10)),i+=n.num,i>99&&(i="···"),r.innerText=i,r.style.display="block"}}})}}]),e}();t["default"]=y},function(e,t,n){e.exports='<div id=__USINGNET_HANDLE_UNREAD></div> {{#if (setting.web.icon_shape === \'custom\')}} <div class=__USINGNET_HANDLE_ICON> <img src="{{ setting.web.customer_icon }}"/> </div> {{else}} <div class="__USINGNET_HANDLE_ICON __USINGNET_HANDLE_ICON_{{ setting.web.icon_shape.toUpperCase() }}" style="background-color:#{{ setting.web.title_bg_color }}"> <img id=__USINGNET_HANDLE_IMG src='+n(4)+" /> <p id=__USINGNET_HANDLE_TXT> {{#if (!setting.online && setting.web.type === 'IM-LM')}} 离线留言 {{else}} 在线咨询 {{/if}} </p> </div> {{/if}} <style>#__USINGNET_HANDLE{position:fixed;text-align:center;cursor:pointer;z-index:2147483647;color:#FFF;font-size:12px}#__USINGNET_HANDLE_TXT{padding:0;margin:0}#__USINGNET_HANDLE_UNREAD{display:none;position:absolute;top:-10px;left:-10px;width:20px;height:20px;line-height:20px;text-align:center;border-radius:20px;background:#F30;font-size:12px;font-weight:700;color:#FFF;box-shadow:0 0 20px 0 rgba(0,0,0,.2)}#__USINGNET_HANDLE #__USINGNET_HANDLE_IMG{width:20px}.__USINGNET_HANDLE_ICON_BAR{width:35px;height:140px;border-radius:17px;padding-top:17px;display:block;overflow:hidden;box-shadow:0 10px 20px 0 rgba(0,0,0,.12)}.__USINGNET_HANDLE_ICON_BAR #__USINGNET_HANDLE_TXT{padding:0 11px;text-indent:0;margin-top:6px;font-size:13px;line-height:1.5}.__USINGNET_HANDLE_ICON_SQUARE{width:60px;height:60px;font-size:12px;box-shadow:0 10px 20px 0 rgba(0,0,0,.12)}.__USINGNET_HANDLE_ICON_SQUARE #__USINGNET_HANDLE_IMG{margin-top:10px;margin-bottom:8px;width:25px}.__USINGNET_HANDLE_ICON_CIRCULAR{width:60px;height:60px;border-radius:60px;font-size:12px;box-shadow:2px 4px 5px rgba(0,0,0,.3)}.__USINGNET_HANDLE_ICON_CIRCULAR #__USINGNET_HANDLE_IMG{margin-top:10px;margin-bottom:5px}#__USINGNET_HANDLE_ICON_CIRULAR{width:60px;height:60px;border-radius:60px;font-size:12px;box-shadow:2px 4px 5px rgba(0,0,0,.3)}#__USINGNET_HANDLE_ICON_CIRULAR #__USINGNET_HANDLE_IMG{margin-top:10px}#__USINGNET_CHAT{display:none;position:fixed;padding:0;bottom:0;right:80px;width:350px;height:460px;z-index:2147483646;box-shadow:0 0 20px 0 rgba(0,0,0,.2);overflow:hidden}#__USINGNET_CHAT_IFRAME{width:100%;height:100%}</style>"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAcCAYAAACZOmSXAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMEAhswnjlz/QAAAGpJREFUSMftljsKwDAMQ6XQ+1+1R3CWLIX8CLENRRqzPJ5jsGhmBueQZO+9ICAjwRD4KM/uiDxSssBd89kfuZpHR3DBBRf8x/DoY/I5ZDosgqcv3K12uqpmV8wb4E0xn03B3TyzAR/tAgBUjrAdKv6Zi9YAAAAASUVORK5CYII="},function(e,t){e.exports='<img id=__USINGNET_INVITE_IMG src="{{ setting.web.invite_img }}"/> <span id=__USINGNET_INVITE_TXT>{{ setting.web.invite_text }}</span> <i id=__USINGNET_INVITE_CLOSE>&times;</i> <style>#__USINGNET_INVITE_TXT{position:absolute;left:80px;top:30px;font-size:13px}#__USINGNET_INVITE_CLOSE{position:absolute;top:-18px;right:-18px;width:32px;height:32px;background:#FFF;border:1px solid #f3f3f3;border-radius:32px;text-align:center;line-height:32px;font-size:24px;font-style:normal;color:#666;cursor:pointer}</style>'},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return parseInt(Math.random()*Math.pow(10,10)).toString(32)},r=function(){for(var e=parseInt((new Date).getTime()*Math.pow(10,4)+Math.random()*Math.pow(10,4)).toString(32);e.length<32;)e+=n();return e.substr(0,32)};t["default"]=r},function(e,t,n){var r,i;!function(o){r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},r.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(c){}return i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),h=p.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var d=p[0].replace(l,decodeURIComponent);if(h=n.read?n.read(h,d):n(h,d)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(c){}if(t===d){a=h;break}t||(a[d]=h)}catch(c){}}return a}}return r.set=r,r.get=function(e){return r(e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})})},function(e,t,n){"use strict";function r(e,t){var n=e,i=t,c="undefined"==typeof n?"undefined":o(n);if("string"!==c&&"function"!==c&&(i=n,n=void 0),i=this.config=s.merge(r.globalConfig,i),"string"===c)try{n=this.compile(n,i.name)}catch(u){this.compileError=u}a.call(this,n,i)}function i(){}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(9),s=a.util,c=n(15),u=c.compile;i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,s.mix(r.prototype,{compile:function(e,t){return u(e,t,this.config)},render:function(e,t,n){var r=n;"function"==typeof t&&(r=t);var i=this.compileError;if(!i)return a.prototype.render.apply(this,arguments);if(!r)throw i;r(i)}}),e.exports=s.mix(r,{globalConfig:{},config:a.config,compile:u,Compiler:c,Scope:a.Scope,Runtime:a,addCommand:a.addCommand,removeCommand:a.removeCommand})},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){this.name=e,this.originalName=o||e,this.runtime=t,this.root=n,this.pos={line:1},this.scope=r,this.buffer=i,this.fn=a,this.parent=s}function i(e,t,n){var r=n[0],i=e&&e[r]||t&&t[r]||v[r];if(1===n.length)return i;if(i)for(var o=n.length,a=1;a<o;a++)if(i=i[n[a]],!i)return!1;return i}function o(e,t){var n=e.split("/"),r=t.split("/");n.pop();for(var i=0,o=r.length;i<o;i++){var a=r[i];"."!==a&&(".."===a?n.pop():n.push(a))}return n.join("/")}function a(e,t,n,r,o,a){var s=void 0,c=void 0,u=void 0;if(a||(u=i(e.runtime.commands,e.root.config.commands,o)),u)return u.call(e,t,n,r);if(u!==!1){var l=o.slice(0,-1);if(s=t.resolve(l,a),null===s||void 0===s)return r.error("Execute function `"+o.join(".")+"` Error: "+l.join(".")+" is undefined or null"),r;if(c=s[o[o.length-1]])try{return c.apply(s,n.params||[])}catch(f){return r.error("Execute function `"+o.join(".")+"` Error: "+f.message),r}}return r.error("Command Not Found: "+o.join(".")),r}function s(e,t){this.fn=e,this.config=y.merge(s.globalConfig,t),this.subNameResolveCache={},this.loadedSubTplNames={}}function c(e,t,n){var r=t;if("."!==r.charAt(0))return r;var i=n+"_ks_"+r,a=e.subNameResolveCache,s=a[i];return s?s:r=a[i]=o(n,r)}function u(e,t,n,i,o,a,s,c){var u=new r(t,n,e,i,o,a,(void 0),c);o.tpl=u,e.config.loader.load(u,function(e,t){var n=t;"function"==typeof n?(u.fn=n,p(u)):e?o.error(e):(n=n||"",s?o.writeEscaped(n):o.data+=n,o.end())})}function l(e,t,n,r,i,o){var a=c(e,o,i.name),s=r.insert(),l=s.next;return u(e,a,i.runtime,t,s,o,n,r.tpl),l}function f(e,t,n,i,o){var a=n.insert(),s=a.next,c=new r(o.TPL_NAME,i.runtime,e,t,a,(void 0),o,n.tpl);return a.tpl=c,p(c),s}function p(e){var t=e.fn();if(t){var n=e.runtime,r=n.extendTpl,i=void 0;if(r&&(i=r.params[0],!i))return t.error("extend command required a non-empty parameter");var o=n.extendTplFn,a=n.extendTplBuffer;return o?(n.extendTpl=null,n.extendTplBuffer=null,n.extendTplFn=null,f(e.root,e.scope,a,e,o).end()):i&&(n.extendTpl=null,n.extendTplBuffer=null,l(e.root,e.scope,0,a,e,i).end()),t.end()}}function h(e,t,n){var r=t.params;if(!r[0])return n.error("include command required a non-empty parameter");var i=e,o=r[1],a=t.hash;return a&&(o=o?y.mix({},o):{},y.mix(o,a)),o&&(i=new g(o,(void 0),e)),i}function d(e,t,n){var r=t.params[0],i=c(e,r,n.name),o=e.loadedSubTplNames;return!o[i]&&(o[i]=!0,!0)}var y=n(10),m=n(12),v={},g=n(13),b=n(14),x={callFn:a,callDataFn:function(e,t){for(var n=t[0],r=n,i=1;i<t.length;i++){var o=t[i];if(!r||!r[o])return"";n=r,r=r[o]}return r.apply(n,e||[])},callCommand:function(e,t,n,r,i){return a(e,t,n,r,i)}};y.mix(s,{Scope:g,LinkedBuffer:b,globalConfig:{},config:function(e,t){var n=this.globalConfig;return void 0===e?n:void(void 0!==t?n[e]=t:y.mix(n,e))},nativeCommands:m,utils:x,util:y,addCommand:function(e,t){v[e]=t},removeCommand:function(e){delete v[e]}}),s.prototype={constructor:s,Scope:g,nativeCommands:m,utils:x,removeCommand:function(e){var t=this.config;t.commands&&delete t.commands[e]},addCommand:function(e,t){var n=this.config;n.commands=n.commands||{},n.commands[e]=t},include:function(e,t,n,r){return l(this,h(e,t,n),t.escape,n,r,t.params[0])},includeModule:function(e,t,n,r){return f(this,h(e,t,n),n,r,t.params[0])},includeOnce:function(e,t,n,r){return d(this,t,r)?this.include(e,t,n,r):n},includeOnceModule:function(e,t,n,r){return d(this,t,r)?this.includeModule(e,t,n,r):n},render:function(e,t,n){var i=this,o=t,a=n,s="",c=this.fn,u=this.config;"function"==typeof o&&(a=o,o=null),o=o||{},a||(a=function(e,t){var n=e;if(n)throw n instanceof Error||(n=new Error(n)),n;s=t});var l=this.config.name;!l&&c&&c.TPL_NAME&&(l=c.TPL_NAME);var f=void 0;f=e instanceof g?e:new g(e);var h=new b(a,u).head,d=new r(l,{commands:o.commands},this,f,h,l,c);return h.tpl=d,c?(p(d),s):(u.loader.load(d,function(e,t){t?(d.fn=i.fn=t,p(d)):e&&h.error(e)}),s)}},e.exports=s},function(e,t,n){(function(t){"use strict";var r=n(11),i=/\\?\{([^{}]+)\}/g,o="undefined"!=typeof t?t:window,a=void 0,s=Object.prototype.toString;e.exports=a={isArray:Array.isArray||function(e){return"[object Array]"===s.call(e)},keys:Object.keys||function(e){var t=[],n=void 0;for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},each:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];if(e){var r=void 0,i=void 0,o=void 0,s=0,c=e&&e.length,u=void 0===c||"[object Function]"===Object.prototype.toString.call(e);if(u)for(o=a.keys(e);s<o.length&&(r=o[s],t.call(n,e[r],r,e)!==!1);s++);else for(i=e[0];s<c&&t.call(n,i,s,e)!==!1;i=e[++s]);}return e},mix:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},globalEval:function(e){o.execScript?o.execScript(e):!function(e){o.eval.call(o,e)}(e)},substitute:function(e,t,n){return"string"==typeof e&&t?e.replace(n||i,function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]}):e},escapeHtml:r,merge:function(){for(var e=0,t=arguments.length,n={};e<t;e++){var r=arguments.length<=e+0?void 0:arguments[e+0];r&&a.mix(n,r)}return n}}}).call(t,function(){return this}())},function(e,t){/*!
	 * escape-html
	 * Copyright(c) 2012-2013 TJ Holowaychuk
	 * Copyright(c) 2015 Andreas Lubbe
	 * Copyright(c) 2015 Tiancheng "Timothy" Gu
	 * MIT Licensed
	 */
"use strict";function n(e){var t=""+e,n=r.exec(t);if(!n)return t;var i,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=i}return s!==a?o+t.substring(s,a):o}var r=/["'&<>]/;e.exports=n},function(e,t,n){"use strict";var r=n(13),i=n(10),o={range:function(e,t){var n=t.params,r=n[0],i=n[1],o=n[2];o?(r>i&&o>0||r<i&&o<0)&&(o=-o):o=r>i?-1:1;for(var a=[],s=r;r<i?s<i:s>i;s+=o)a.push(s);return a},"void":function(){},foreach:function(e,t,n){var i=n,o=t.params,a=o[0],s=o[2]||"xindex",c=o[1],u=void 0,l=void 0,f=void 0,p=void 0;if(a)for(u=a.length,p=0;p<u;p++)l=new r(a[p],{xcount:u,xindex:p},e),f=l.affix,"xindex"!==s&&(f[s]=p,f.xindex=void 0),c&&(f[c]=a[p]),i=t.fn(l,i);return i},forin:function(e,t,n){var i=n,o=t.params,a=o[0],s=o[2]||"xindex",c=o[1],u=void 0,l=void 0,f=void 0;if(a)for(f in a)a.hasOwnProperty(f)&&(u=new r(a[f],{xindex:f},e),l=u.affix,"xindex"!==s&&(l[s]=f,l.xindex=void 0),c&&(l[c]=a[f]),i=t.fn(u,i));return i},each:function(e,t,n){var r=t.params,a=r[0];return a?i.isArray(a)?o.foreach(e,t,n):o.forin(e,t,n):n},"with":function(e,t,n){var i=n,o=t.params,a=o[0];if(a){var s=new r(a,(void 0),e);i=t.fn(s,i)}return i},"if":function(e,t,n){var r=n,i=t.params,o=i[0];if(o){var a=t.fn;a&&(r=a(e,r))}else{var s=!1,c=t.elseIfs,u=t.inverse;if(c)for(var l=0,f=c.length;l<f;l++){var p=c[l];if(s=p.test(e)){r=p.fn(e,r);break}}!s&&u&&(r=u(e,r))}return r},set:function(e,t,n){for(var r=e,i=t.hash,o=i.length,a=0;a<o;a++){var s=i[a],c=s.key,u=s.depth,l=s.value;if(1===c.length){for(var f=r.root;u&&f!==r;)r=r.parent,--u;r.set(c[0],l)}else{var p=r.resolve(c.slice(0,-1),u);p&&(p[c[c.length-1]]=l)}}return n},include:1,includeOnce:1,parse:1,extend:1,block:function(e,t,n){var r=n,i=this,o=i.runtime,a=t.params,s=a[0],c=void 0;2===a.length&&(c=a[0],s=a[1]);var u=o.blocks=o.blocks||{},l=u[s],f=void 0,p={fn:t.fn,type:c};if(l){if(l.type)if("append"===l.type)p.next=l,u[s]=p;else if("prepend"===l.type){var h=void 0;for(f=l;f&&"prepend"===f.type;)h=f,f=f.next;p.next=f,h.next=p}}else u[s]=p;if(!o.extendTpl)for(f=u[s];f;)f.fn&&(r=f.fn.call(i,e,r)),f=f.next;return r},macro:function a(e,t,n){var i=n,o=t.hash,s=t.params,c=s[0],u=s.slice(1),l=this,f=l.runtime,p=f.macros=f.macros||{},a=p[c];if(t.fn)p[c]={paramNames:u,hash:o,fn:t.fn};else if(a){var h=a.hash||{},d=a.paramNames;if(d)for(var y=0,m=d.length;y<m;y++){var v=d[y];h[v]=u[y]}if(o)for(var g in o)o.hasOwnProperty(g)&&(h[g]=o[g]);var b=new r(h);b.root=e.root,i=a.fn.call(l,b,i)}else{var x="can not find macro: "+c;i.error(x)}return i}};o["debugger"]=function(){i.globalEval("debugger")},e.exports=o},function(e,t){"use strict";function n(e,t,n){void 0!==e?this.data=e:this.data={},n?(this.parent=n,this.root=n.root):(this.parent=void 0,this.root=this),this.affix=t||{},this.ready=!1}n.prototype={isScope:1,constructor:n,setParent:function(e){this.parent=e,this.root=e.root},set:function(e,t){this.affix[e]=t},setData:function(e){this.data=e},getData:function(){return this.data},mix:function(e){var t=this.affix;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},get:function(e){var t=this.data,n=void 0,r=this.affix;return null!==t&&void 0!==t&&(n=t[e]),void 0!==n?n:r[e]},resolveInternalOuter:function(e){var t=e[0],n=void 0,r=this,i=r;if("this"===t)n=r.data;else if("root"===t)i=i.root,n=i.data;else{if(!t)return[i.data];do n=i.get(t);while(void 0===n&&(i=i.parent))}return[void 0,n]},resolveInternal:function(e){var t=this.resolveInternalOuter(e);if(1===t.length)return t[0];var n=void 0,r=e.length,i=t[1];if(void 0!==i){for(n=1;n<r;n++){if(null===i||void 0===i)return i;i=i[e[n]]}return i}},resolveLooseInternal:function(e){var t=this.resolveInternalOuter(e);if(1===t.length)return t[0];var n=void 0,r=e.length,i=t[1];for(n=1;null!==i&&void 0!==i&&n<r;n++)i=i[e[n]];return i},resolveUp:function(e){return this.parent&&this.parent.resolveInternal(e)},resolveLooseUp:function(e){return this.parent&&this.parent.resolveLooseInternal(e)},resolveOuter:function(e,t){var n=this,r=n,i=t,o=void 0;if(!i&&1===e.length){if(o=n.get(e[0]),void 0!==o)return[o];i=1}if(i)for(;r&&i--;)r=r.parent;return r?[void 0,r]:[void 0]},resolveLoose:function(e,t){var n=this.resolveOuter(e,t);return 1===n.length?n[0]:n[1].resolveLooseInternal(e)},resolve:function(e,t){var n=this.resolveOuter(e,t);return 1===n.length?n[0]:n[1].resolveInternal(e)}},e.exports=n},function(e,t,n){"use strict";function r(e,t,n){this.list=e,this.init(),this.next=t,this.ready=!1,this.tpl=n}function i(e,t){var n=this;n.config=t,n.head=new r(n,(void 0)),n.callback=e,this.init()}var o=n(10);r.prototype={constructor:r,isBuffer:1,init:function(){this.data=""},append:function(e){return this.data+=e,this},write:function(e){if(null!==e&&void 0!==e){if(e.isBuffer)return e;this.data+=e}return this},writeEscaped:function(e){if(null!==e&&void 0!==e){if(e.isBuffer)return e;this.data+=o.escapeHtml(e)}return this},insert:function(){var e=this,t=e.list,n=e.tpl,i=new r(t,e.next,n),o=new r(t,i,n);return e.next=o,e.ready=!0,o},async:function(e){var t=this.insert(),n=t.next;return e(t),n},error:function(e){var t=this.list.callback,n=e;if(t){var r=this.tpl;if(r){n instanceof Error||(n=new Error(n));var i=r.name,o=r.pos.line,a="XTemplate error in file: "+i+" at line "+o+": ";try{n.stack=a+n.stack,n.message=a+n.message}catch(s){}n.xtpl={pos:{line:o},name:i}}this.list.callback=null,t(n,void 0)}},end:function(){var e=this;return e.list.callback&&(e.ready=!0,e.list.flush()),e}},i.prototype={constructor:i,init:function(){this.data=""},append:function(e){this.data+=e},end:function(){this.callback(null,this.data),this.callback=null},flush:function(){for(var e=this,t=e.head;t;){if(!t.ready)return void(e.head=t);this.data+=t.data,t=t.next}e.end()}},i.Buffer=r,e.exports=i},function(e,t,n){"use strict";function r(e,t){K!==e.line&&(K=e.line,t.push("pos.line = "+e.line+";"))}function i(){K=1}function o(e){return["function "+e+"(scope, buffer, undefined) {\n    var data = scope.data;\n    var affix = scope.affix;"]}function a(e,t){return t+e.uuid++}function s(e,t){var n=e;return t&&!/\.xtpl$/.test(n)&&(n+=".xtpl"),n}function c(e){var t=[],n=e.opType,r=void 0,i=void 0,o=void 0,s=void 0,c=void 0,u=void 0,l=void 0,f=this[e.op1.type](e.op1),p=this[e.op2.type](e.op2),h=a(this,"exp");return r=f.exp,i=p.exp,s=f.source,c=p.source,e.op3&&(l=this[e.op3.type](e.op3),o=l.exp,u=l.source),w(t,s),t.push("var "+h+" = "+r+";"),"&&"===n||"||"===n?(t.push("if("+("&&"===n?"":"!")+"("+h+")){"),w(t,c),t.push(h+" = "+i+";"),t.push("}")):"?:"===n?(w(t,c),w(t,u),t.push(h+" = ("+r+") ? ("+i+") : ("+o+");")):(w(t,c),t.push(h+" = ("+r+") "+n+" ("+i+");")),{exp:h,source:t}}function u(e,t){for(var n=a(e,"func"),r=o(n),i=void 0,s=0,c=t.length;s<c;s++)i=t[s],w(r,e[i.type](i).source);return r.push(G),r.push("}"),w(e.functionDeclares,r),n}function l(e,t){var n=a(e,"func"),r=o(n),i=e[t.type](t);return w(r,i.source),r.push("return "+i.exp+";"),r.push("}"),w(e.functionDeclares,r),n}function f(e,t){var n=e.config.catchError,r=[N,X,n?"try {":""],i=void 0,o=void 0,a=void 0;for(o=0,a=t.length;o<a;o++)i=t[o],w(r,e[i.type](i,{top:1}).source);return r.splice.apply(r,[2,0].concat(e.functionDeclares).concat("")),r.push(G),n&&r.push.apply(r,["} catch(e) {","if(!e.xtpl){","buffer.error(e);","}else{ throw e; }","}"]),{params:["undefined"],source:r.join("\n")}}function p(e,t,n,r,i,o){var a=[],s=t.params,c=t.hash,u=[],l="set"===t.id.string;s&&W(s,function(t){var n=e[t.type](t);w(a,n.source),u.push(n.exp)});var f=[];c&&W(c.value,function(t){var n=t[1],r=t[0],i=e[n.type](n);if(w(a,i.source),l){var o=k(e,a,r.parts).resolvedParts;f.push({key:o,depth:r.depth,value:i.exp})}else{if(1!==r.parts.length||"string"!=typeof r.parts[0])throw new Error("invalid hash parameter");f.push([_(r.string),i.exp])}});var p="";return(u.length||f.length||n||r||o||i)&&(n&&(p+=", escape: 1"),u.length&&(p+=", params: [ "+u.join(",")+" ]"),f.length&&!function(){var e=[];l?(v.each(f,function(t){e.push("{ key: ["+t.key.join(",")+"], value: "+t.value+", depth: "+t.depth+" }")}),p+=",hash: [ "+e.join(",")+" ]"):(v.each(f,function(t){e.push(t[0]+":"+t[1])}),p+=",hash: { "+e.join(",")+" }")}(),r&&(p+=",fn: "+r),o&&(p+=",inverse: "+o),i&&(p+=",elseIfs: "+i),p="{ "+p.slice(1)+" }"),{exp:p||"{}",funcParams:u,source:a}}function h(e,t,n,i){var o=i,c=[];r(t.pos,c);var f=void 0,h=void 0,d=t.id,y=d.string;y in g&&(o=0);var m=d.parts,v=void 0;if("elseif"===y)return{exp:"",source:[]};if(n){var b=n.program,x=b.inverse,_=void 0,E=void 0,S=void 0,T=[],A=void 0,C=void 0,N=void 0,P=b.statements,R=[];for(v=0;v<P.length;v++)N=P[v],"expressionStatement"===N.type&&(C=N.value)&&(C=C.parts)&&1===C.length&&(C=C[0])&&"function"===C.type&&"elseif"===C.id.string?(A&&T.push(A),A={condition:C.params[0],statements:[]}):A?A.statements.push(N):R.push(N);if(A&&T.push(A),_=u(e,R),x&&(S=u(e,x)),T.length){var D=[];for(v=0;v<T.length;v++){var q=T[v],U=l(e,q.condition);D.push("{\n        test: "+U+",\n        fn: "+u(e,q.statements)+"\n        }")}E="[ "+D.join(",")+" ]"}f=p(e,t,o,_,E,S),w(c,f.source)}var M=e.config,H=M.isModule,$=M.withSuffix;if(("include"===y||"parse"===y||"extend"===y)&&(!t.params||t.params.length>2))throw new Error("include/parse/extend can only has at most two parameter!");if(H&&("include"===y||"parse"===y)){var z=s(t.params[0].value,$);t.params[0]={type:"raw",value:'require("'+z+'")'}}if(f||(f=p(e,t,o,null,null,null),w(c,f.source)),n||(h=a(e,"callRet"),c.push("var "+h)),y in g)if("extend"===y){if(c.push("runtime.extendTpl = "+f.exp),c.push("buffer = buffer.async(\n      function(newBuffer){runtime.extendTplBuffer = newBuffer;}\n      );"),H){var F=s(t.params[0].value,$);c.push('runtime.extendTplFn = require("'+F+'");')}}else"include"===y?c.push("buffer = root."+(H?"includeModule":"include")+"(scope, "+f.exp+", buffer,tpl);"):"includeOnce"===y?c.push("buffer = root."+(H?"includeOnceModule":"includeOnce")+"(scope, "+f.exp+", buffer,tpl);"):"parse"===y?c.push("buffer = root."+(H?"includeModule":"include")+"(new scope.constructor(), "+f.exp+", buffer, tpl);"):c.push(J(I,{lhs:n?"buffer":h,name:y,option:f.exp}));else if(n)c.push(J(j,{option:f.exp,idParts:k(e,c,m).arr}));else{var G=k(e,c,m);G.funcRet?c.push(J(B,{lhs:h,params:f.funcParams.join(","),idParts:G.arr,depth:d.depth})):c.push(J(d.depth?L:O,{lhs:h,option:f.exp,idParts:G.arr,depth:d.depth}))}return{exp:h,source:c}}function d(e){this.functionDeclares=[],this.config=e,this.uuid=0}var y=n(9),m=n(16);m.yy=n(17);for(var v=y.util,g=y.nativeCommands,b=y.utils,x=n(18),w=x.pushToArray,_=x.wrapByDoubleQuote,k=x.convertIdPartsToRawAccessor,E=x.wrapBySingleQuote,S=x.escapeString,T=x.chainedVariableRead,A=["var t;"],C=0;C<10;C++)A.push("var t"+C+";");var N=A.concat(["var tpl = this;\n  var root = tpl.root;\n  var buffer = tpl.buffer;\n  var scope = tpl.scope;\n  var runtime = tpl.runtime;\n  var name = tpl.name;\n  var pos = tpl.pos;\n  var data = scope.data;\n  var affix = scope.affix;\n  var nativeCommands = root.nativeCommands;\n  var utils = root.utils;"]).join("\n"),I="{lhs} = {name}Command.call(tpl, scope, {option}, buffer);",j="buffer = callCommandUtil(tpl, scope, {option}, buffer, {idParts});",O="{lhs} = callFnUtil(tpl, scope, {option}, buffer, {idParts});",B="{lhs} = callDataFnUtil([{params}], {idParts});",L="{lhs} = callFnUtil(tpl, scope, {option}, buffer, {idParts}, {depth});",P="var {lhs} = {value};",R="var {lhs} = scope.resolve({idParts},{depth});",D="var {lhs} = scope.resolveLoose({idParts},{depth});",q="function {functionName}({params}){\n  {body}\n}",U="\n  //# sourceURL = {name}.js\n",M='var {name}Command = nativeCommands["{name}"];',H='var {name}Util = utils["{name}"];',$="buffer = buffer.write({value});",z="buffer.data += {value};",F="buffer = buffer.writeEscaped({value});",G="return buffer;",X=[],J=v.substitute,W=v.each;W(b,function(e,t){X.push(J(H,{name:t}))}),W(g,function(e,t){X.push(J(M,{name:t}))}),X=X.join("\n");var K=1;d.prototype={constructor:d,raw:function(e){return{exp:e.value}},arrayExpression:function(e){for(var t=e.list,n=t.length,r=void 0,i=[],o=[],a=0;a<n;a++)r=this[t[a].type](t[a]),w(i,r.source),o.push(r.exp);return{exp:"[ "+o.join(",")+" ]",source:i}},objectExpression:function(e){for(var t=e.obj,n=t.length,r=void 0,i=[],o=[],a=0;a<n;a++){var s=t[a];r=this[s[1].type](s[1]),w(i,r.source),o.push(_(s[0])+": "+r.exp)}return{exp:"{ "+o.join(",")+" }",source:i}},conditionalExpression:c,conditionalOrExpression:c,conditionalAndExpression:c,relationalExpression:c,equalityExpression:c,additiveExpression:c,multiplicativeExpression:c,unaryExpression:function(e){var t=this[e.value.type](e.value);return{exp:e.unaryType+"("+t.exp+")",source:t.source}},string:function(e){return{exp:E(S(e.value,1)),source:[]}},number:function(e){return{exp:e.value,source:[]}},id:function(e){var t=[],n=this,i=!n.config.strict;if(r(e.pos,t),x.isGlobalId(e))return{exp:e.string,source:t};var o=e.depth,s=e.parts,c=a(n,"id");if(o)return t.push(J(i?D:R,{lhs:c,idParts:k(n,t,s).arr,depth:o})),{exp:c,source:t};var u=s[0],l=void 0,f=void 0;if("this"===u)return f=s.slice(1),t.push(J(P,{lhs:c,value:f.length?T(n,t,f,void 0,void 0,i):"data"})),{exp:c,source:t};if("root"===u)return f=s.slice(1),l=f.join("."),l&&(l="."+l),t.push(J(P,{lhs:c,value:l?T(n,t,f,!0,void 0,i):"scope.root.data",idParts:l})),{exp:c,source:t};if("function"===s[0].type){for(var p=k(n,t,s).resolvedParts,h=1;h<p.length;h++)p[h]="[ "+p[h]+" ]";var d=void 0;if(i)d=x.genStackJudge(p.slice(1),p[0]);else{d=p[0];for(var y=1;y<p.length;y++)d+=p[y]}t.push(J(P,{lhs:c,value:d}))}else t.push(J(P,{lhs:c,value:T(n,t,s,!1,!0,i)}));return{exp:c,source:t}},"function":function(e,t){return h(this,e,!1,t)},blockStatement:function(e){return h(this,e.func,e)},expressionStatement:function(e){var t=[],n=e.escape,r=void 0,i=e.value,o=i.type,a=void 0;return r=this[o](i,n),w(t,r.source),a=r.exp,t.push(J(n?F:$,{value:a})),{exp:"",source:t}},contentStatement:function(e){return{exp:"",source:[J(z,{value:E(S(e.value,0))})]}}};var Y=0,V={parse:function(e,t){if(e){var n=void 0;try{n=m.parse(e,t)}catch(r){var i=void 0;i=r instanceof Error?r:new Error(r);var o="XTemplate error ";try{i.stack=o+i.stack,i.message=o+i.message}catch(a){}throw i}return n}return{statements:[]}},compileToStr:function(e){var t=V.compileToJson(e);return J(q,{functionName:e.functionName||"",params:t.params.join(","),body:t.source})},compileToJson:function(e){i();var t=e.name=e.name||"xtemplate"+ ++Y,n=e.content,r=V.parse(n,t);return f(new d(e),r.statements)},compile:function(e,t,n){var r=V.compileToJson(v.merge(n,{content:e,name:t})),i=r.source;i+=J(U,{name:t});var o=r.params.concat(i);return Function.apply(null,o)}};e.exports=V},function(e,t,n){"use strict";var r=function(e){function t(e,t){return t=t||1,e[e.length-t]}function n(e,t){for(var n in t)e[n]=t[n]}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t,n){if(e){var i,o,a,s=0;if(n=n||null,r(e))for(a=e.length,o=e[0];s<a&&t.call(n,o,s,e)!==!1;o=e[++s]);else for(i in e)if(t.call(n,e[i],i,e)===!1)break}}function o(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1}var a={},s={SHIFT_TYPE:1,REDUCE_TYPE:2,ACCEPT_TYPE:0,TYPE_INDEX:0,PRODUCTION_INDEX:1,TO_INDEX:2},c=function(e){var t=this;t.rules=[],n(t,e),t.resetInput(t.input)};c.prototype={resetInput:function(e){n(this,{input:e,matched:"",stateStack:[c.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var e=this,t=e.stateStack[e.stateStack.length-1],n=[];return e.mapState&&(t=e.mapState(t)),i(e.rules,function(e){var r=e.state||e[3];r?o(t,r)&&n.push(e):t===c.STATIC.INITIAL&&n.push(e)}),n},pushState:function(e){this.stateStack.push(e)},popState:function(e){e=e||1;for(var t;e--;)t=this.stateStack.pop();return t},showDebugInfo:function(){var e=this,t=c.STATIC.DEBUG_CONTEXT_LIMIT,n=e.matched,r=e.match,i=e.input;n=n.slice(0,n.length-r.length);var o=(n.length>t?"...":"")+n.slice(0-t).replace(/\n/g," "),a=r+i;return a=a.slice(0,t).replace(/\n/g," ")+(a.length>t?"...":""),o+a+"\n"+new Array(o.length+1).join("-")+"^"},mapSymbol:function(e){return this.symbolMap[e]},mapReverseSymbol:function(e){var t,n=this,r=n.symbolMap,i=n.reverseSymbolMap;if(!i&&r){i=n.reverseSymbolMap={};for(t in r)i[r[t]]=t}return i?i[e]:e},lex:function(){var t,r,i,o,a,s=this,u=s.input,l=s.getCurrentRules();if(s.match=s.text="",!u)return s.mapSymbol(c.STATIC.END_TAG);for(t=0;t<l.length;t++){r=l[t];var f=r.regexp||r[1],p=r.token||r[0],h=r.action||r[2]||e;if(i=u.match(f)){a=i[0].match(/\n.*/g),a&&(s.lineNumber+=a.length),n(s,{firstLine:s.lastLine,lastLine:s.lineNumber,firstColumn:s.lastColumn,lastColumn:a?a[a.length-1].length-1:s.lastColumn+i[0].length});var d;return d=s.match=i[0],s.matches=i,s.text=d,s.matched+=d,o=h&&h.call(s),o=o===e?p:s.mapSymbol(o),u=u.slice(d.length),s.input=u,o?o:s.lex()}}}},c.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var u=new c({rules:[[0,/^[\s\S]*?(?={{)/,function(){var e,t=this,n=t.text,r=0;return(e=n.match(/\\+$/))&&(r=e[0].length),r%2?(t.pushState("et"),n=n.slice(0,-1)):t.pushState("t"),r&&(n=n.replace(/\\+$/g,function(e){return new Array(e.length/2+1).join("\\")})),t.text=n,"CONTENT"}],["b",/^[\s\S]+/,0],["b",/^[\s\S]{2,}?(?:(?={{)|$)/,function(){this.popState()},["et"]],["c",/^{{\{?~?(?:#|@)/,function(){var e=this,t=e.text;"{{{"===t.slice(0,3)?e.pushState("p"):e.pushState("e")},["t"]],["d",/^{{\{?~?\//,function(){var e=this,t=e.text;"{{{"===t.slice(0,3)?e.pushState("p"):e.pushState("e")},["t"]],["e",/^{{\s*else\s*}}/,function(){this.popState()},["t"]],[0,/^{{![\s\S]*?}}/,function(){this.popState()},["t"]],["b",/^{{%([\s\S]*?)%}}/,function(){this.text=this.matches[1]||"",this.popState()},["t"]],["f",/^{{\{?~?/,function(){var e=this,t=e.text;"{{{"===t.slice(0,3)?e.pushState("p"):e.pushState("e")},["t"]],[0,/^\s+/,0,["p","e"]],["g",/^,/,0,["p","e"]],["h",/^~?}}}/,function(){this.popState(2)},["p"]],["h",/^~?}}/,function(){this.popState(2)},["e"]],["i",/^\(/,0,["p","e"]],["j",/^\)/,0,["p","e"]],["k",/^\|\|/,0,["p","e"]],["l",/^&&/,0,["p","e"]],["m",/^===/,0,["p","e"]],["n",/^!==/,0,["p","e"]],["o",/^>=/,0,["p","e"]],["p",/^<=/,0,["p","e"]],["q",/^>/,0,["p","e"]],["r",/^</,0,["p","e"]],["s",/^\+/,0,["p","e"]],["t",/^-/,0,["p","e"]],["u",/^\*/,0,["p","e"]],["v",/^\//,0,["p","e"]],["w",/^%/,0,["p","e"]],["x",/^!/,0,["p","e"]],["y",/^"(\\[\s\S]|[^\\"\n])*"/,function(){this.text=this.text.slice(1,-1).replace(/\\"/g,'"')},["p","e"]],["y",/^'(\\[\s\S]|[^\\'\n])*'/,function(){this.text=this.text.slice(1,-1).replace(/\\'/g,"'")},["p","e"]],["z",/^\d+(?:\.\d+)?(?:e-?\d+)?/i,0,["p","e"]],["aa",/^=/,0,["p","e"]],["ab",/^\.\./,function(){this.pushState("ws")},["p","e"]],["ac",/^\//,function(){this.popState()},["ws"]],["ac",/^\./,0,["p","e"]],["ad",/^\[/,0,["p","e"]],["ae",/^\]/,0,["p","e"]],["af",/^\{/,0,["p","e"]],["ag",/^\:/,0,["p","e"]],["ah",/^\?/,0,["p","e"]],["ai",/^\}/,0,["p","e"]],["ab",/^[a-zA-Z_$][a-zA-Z0-9_$]*/,0,["p","e"]]]});return a.lexer=u,u.symbolMap={$EOF:"a",CONTENT:"b",OPEN_BLOCK:"c",OPEN_CLOSE_BLOCK:"d",INVERSE:"e",OPEN_TPL:"f",COMMA:"g",CLOSE:"h",L_PAREN:"i",R_PAREN:"j",OR:"k",AND:"l",LOGIC_EQUALS:"m",LOGIC_NOT_EQUALS:"n",GE:"o",LE:"p",GT:"q",LT:"r",PLUS:"s",MINUS:"t",MULTIPLY:"u",DIVIDE:"v",MODULUS:"w",NOT:"x",STRING:"y",NUMBER:"z",EQUALS:"aa",ID:"ab",SEP:"ac",L_BRACKET:"ad",R_BRACKET:"ae",L_BRACE:"af",COLON:"ag",QUERY:"ah",R_BRACE:"ai",$START:"aj",program:"ak",statements:"al",statement:"am","function":"an",id:"ao",expression:"ap",params:"aq",hash:"ar",param:"as",conditionalExpression:"at",listExpression:"au",objectExpression:"av",objectPart:"aw",conditionalOrExpression:"ax",conditionalAndExpression:"ay",equalityExpression:"az",relationalExpression:"ba",additiveExpression:"bb",multiplicativeExpression:"bc",unaryExpression:"bd",primaryExpression:"be",hashSegment:"bf",idSegments:"bg"},a.productions=[["aj",["ak"]],["ak",["al","e","al"],function(){return new this.yy.ProgramNode({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,this.$3)}],["ak",["al"],function(){return new this.yy.ProgramNode({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["al",["am"],function(){return[this.$1]}],["al",["al","am"],function(){var e=this.$1,t=this.$2;if(e.length){var n=e[e.length-1];n.rtrim&&t&&"contentStatement"===t.type&&!t.value.trim()||(t.ltrim&&n&&"contentStatement"===n.type&&!n.value.trim()?e[e.length-1]=t:e.push(t))}else e.push(t)}],["am",["c","an","h","ak","d","ao","h"],function(){var e=this.$4,t=this.$1,n=this.$7,r=e.statements,i=this.$3,o=this.$5;i.indexOf("~}")!==-1&&r[0]&&"contentStatement"===r[0].type&&(r[0].value.trim()||r.shift()),o.indexOf("{~")!==-1&&r[r.length-1]&&"contentStatement"===r[r.length-1].type&&(r[r.length-1].value.trim()||r.pop());var a=new this.yy.BlockStatement({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$2,e,this.$6,"{{{"!==this.$1.slice(0,3));return t.indexOf("{~")!==-1&&(a.ltrim=1),n.indexOf("~}")!==-1&&(a.rtrim=1),a}],["am",["f","ap","h"],function(){var e=this.$1,t=this.$3,n=new this.yy.ExpressionStatement({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$2,"{{{"!==this.$1.slice(0,3));return e.indexOf("{~")!==-1&&(n.ltrim=1),t.indexOf("~}")!==-1&&(n.rtrim=1),n}],["am",["b"],function(){return new this.yy.ContentStatement({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["an",["ao","i","aq","g","ar","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,this.$3,this.$5)}],["an",["ao","i","aq","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,this.$3)}],["an",["ao","i","ar","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1,null,this.$3)}],["an",["ao","i","j"],function(){return new this.yy.Function({filename:this.lexer.filename,line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["aq",["aq","g","as"],function(){this.$1.push(this.$3)}],["aq",["as"],function(){return[this.$1]}],["as",["ap"]],["ap",["at"]],["ap",["ad","au","ae"],function(){return new this.yy.ArrayExpression(this.$2)}],["ap",["ad","ae"],function(){return new this.yy.ArrayExpression([])}],["ap",["af","av","ai"],function(){return new this.yy.ObjectExpression(this.$2)}],["ap",["af","ai"],function(){return new this.yy.ObjectExpression([])}],["aw",["y","ag","ap"],function(){return[this.$1,this.$3]}],["aw",["ab","ag","ap"],function(){return[this.$1,this.$3]}],["av",["aw"],function(){return[this.$1]}],["av",["av","g","aw"],function(){this.$1.push(this.$3)}],["au",["ap"],function(){return[this.$1]}],["au",["au","g","ap"],function(){this.$1.push(this.$3)}],["at",["ax"]],["at",["ax","ah","ax","ag","at"],function(){return new this.yy.ConditionalExpression(this.$1,this.$3,this.$5)}],["ax",["ay"]],["ax",["ax","k","ay"],function(){return new this.yy.ConditionalOrExpression(this.$1,this.$3)}],["ay",["az"]],["ay",["ay","l","az"],function(){return new this.yy.ConditionalAndExpression(this.$1,this.$3)}],["az",["ba"]],["az",["az","m","ba"],function(){return new this.yy.EqualityExpression(this.$1,"===",this.$3)}],["az",["az","n","ba"],function(){return new this.yy.EqualityExpression(this.$1,"!==",this.$3)}],["ba",["bb"]],["ba",["ba","r","bb"],function(){return new this.yy.RelationalExpression(this.$1,"<",this.$3)}],["ba",["ba","q","bb"],function(){return new this.yy.RelationalExpression(this.$1,">",this.$3)}],["ba",["ba","p","bb"],function(){return new this.yy.RelationalExpression(this.$1,"<=",this.$3)}],["ba",["ba","o","bb"],function(){return new this.yy.RelationalExpression(this.$1,">=",this.$3)}],["bb",["bc"]],["bb",["bb","s","bc"],function(){return new this.yy.AdditiveExpression(this.$1,"+",this.$3)}],["bb",["bb","t","bc"],function(){return new this.yy.AdditiveExpression(this.$1,"-",this.$3)}],["bc",["bd"]],["bc",["bc","u","bd"],function(){return new this.yy.MultiplicativeExpression(this.$1,"*",this.$3)}],["bc",["bc","v","bd"],function(){return new this.yy.MultiplicativeExpression(this.$1,"/",this.$3)}],["bc",["bc","w","bd"],function(){return new this.yy.MultiplicativeExpression(this.$1,"%",this.$3)}],["bd",["x","bd"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["bd",["t","bd"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["bd",["be"]],["be",["y"],function(){return new this.yy.String({line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["be",["z"],function(){return new this.yy.Number({line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["be",["ao"]],["be",["i","ap","j"],function(){return this.$2}],["ar",["ar","g","bf"],function(){this.$1.value.push(this.$3)}],["ar",["bf"],function(){return new this.yy.Hash({line:this.lexer.firstLine,col:this.lexer.firstColumn},[this.$1])}],["bf",["ao","aa","ap"],function(){return[this.$1,this.$3]}],["ao",["bg"],function(){return new this.yy.Id({line:this.lexer.firstLine,col:this.lexer.firstColumn},this.$1)}],["bg",["an"],function(){return[this.$1]}],["bg",["bg","ac","ab"],function(){this.$1.push(this.$3)}],["bg",["bg","ad","ap","ae"],function(){this.$1.push(this.$3)}],["bg",["ab"],function(){return[this.$1]}]],a.table={gotos:{0:{ak:4,al:5,am:6},2:{an:8,ao:9,bg:10},3:{an:18,ao:19,ap:20,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},5:{am:31},11:{an:18,ao:19,ap:36,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},12:{an:18,ao:19,bd:37,be:29,bg:10},13:{an:18,ao:19,bd:38,be:29,bg:10},16:{an:18,ao:19,ap:40,at:21,au:41,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},17:{av:45,aw:46},30:{al:62,am:6},32:{ak:63,al:5,am:6},33:{an:18,ao:65,ap:66,aq:67,ar:68,as:69,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bf:70,bg:10},35:{an:18,ao:19,ap:72,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},48:{an:18,ao:19,ay:80,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},49:{an:18,ao:19,ax:81,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},50:{an:18,ao:19,az:82,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},51:{an:18,ao:19,ba:83,bb:26,bc:27,bd:28,be:29,bg:10},52:{an:18,ao:19,ba:84,bb:26,bc:27,bd:28,be:29,bg:10},53:{an:18,ao:19,bb:85,bc:27,bd:28,be:29,bg:10},54:{an:18,ao:19,bb:86,bc:27,bd:28,be:29,bg:10},55:{an:18,ao:19,bb:87,bc:27,bd:28,be:29,bg:10},56:{an:18,ao:19,bb:88,bc:27,bd:28,be:29,bg:10},57:{an:18,ao:19,bc:89,bd:28,be:29,bg:10},58:{an:18,ao:19,bc:90,bd:28,be:29,bg:10},59:{an:18,ao:19,bd:91,be:29,bg:10},60:{an:18,ao:19,bd:92,be:29,bg:10},61:{an:18,ao:19,bd:93,be:29,bg:10},62:{am:31},74:{an:18,ao:19,ap:101,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},76:{an:18,ao:19,ap:102,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},77:{an:18,ao:19,ap:103,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},78:{aw:104},94:{an:18,ao:106,bg:10},95:{an:18,ao:19,ap:107,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10},96:{an:18,ao:65,ap:66,ar:108,as:109,at:21,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bf:70,bg:10},98:{an:18,ao:110,bf:111,bg:10},105:{an:18,ao:19,at:112,ax:22,ay:23,az:24,ba:25,bb:26,bc:27,bd:28,be:29,bg:10}},action:{0:{b:[1,e,1],c:[1,e,2],f:[1,e,3]},1:{a:[2,7],e:[2,7],c:[2,7],f:[2,7],b:[2,7],d:[2,7]},2:{ab:[1,e,7]},3:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},4:{a:[0]},5:{a:[2,2],d:[2,2],b:[1,e,1],c:[1,e,2],e:[1,e,30],f:[1,e,3]},6:{a:[2,3],e:[2,3],c:[2,3],f:[2,3],b:[2,3],d:[2,3]},7:{i:[2,61],ac:[2,61],ad:[2,61],h:[2,61],ah:[2,61],k:[2,61],l:[2,61],m:[2,61],n:[2,61],o:[2,61],p:[2,61],q:[2,61],r:[2,61],s:[2,61],t:[2,61],u:[2,61],v:[2,61],w:[2,61],j:[2,61],ae:[2,61],g:[2,61],aa:[2,61],ag:[2,61],ai:[2,61]},8:{i:[2,58],ac:[2,58],ad:[2,58],h:[1,e,32]},9:{i:[1,e,33]},10:{i:[2,57],h:[2,57],ah:[2,57],k:[2,57],l:[2,57],m:[2,57],n:[2,57],o:[2,57],p:[2,57],q:[2,57],r:[2,57],s:[2,57],t:[2,57],u:[2,57],v:[2,57],w:[2,57],j:[2,57],ae:[2,57],g:[2,57],aa:[2,57],ag:[2,57],ai:[2,57],ac:[1,e,34],ad:[1,e,35]},11:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},12:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},13:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},14:{h:[2,50],ah:[2,50],k:[2,50],l:[2,50],m:[2,50],n:[2,50],o:[2,50],p:[2,50],q:[2,50],r:[2,50],s:[2,50],t:[2,50],u:[2,50],v:[2,50],w:[2,50],j:[2,50],ae:[2,50],g:[2,50],ag:[2,50],ai:[2,50]},15:{h:[2,51],ah:[2,51],k:[2,51],l:[2,51],m:[2,51],n:[2,51],o:[2,51],p:[2,51],q:[2,51],r:[2,51],s:[2,51],t:[2,51],u:[2,51],v:[2,51],w:[2,51],j:[2,51],ae:[2,51],g:[2,51],ag:[2,51],ai:[2,51]},16:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],ae:[1,e,39],af:[1,e,17]},17:{y:[1,e,42],ab:[1,e,43],ai:[1,e,44]},18:{h:[2,58],ah:[2,58],i:[2,58],k:[2,58],l:[2,58],m:[2,58],n:[2,58],o:[2,58],p:[2,58],q:[2,58],r:[2,58],s:[2,58],t:[2,58],u:[2,58],v:[2,58],w:[2,58],ac:[2,58],ad:[2,58],j:[2,58],ae:[2,58],g:[2,58],aa:[2,58],ag:[2,58],ai:[2,58]},19:{h:[2,52],ah:[2,52],k:[2,52],l:[2,52],m:[2,52],n:[2,52],o:[2,52],p:[2,52],q:[2,52],r:[2,52],s:[2,52],t:[2,52],u:[2,52],v:[2,52],w:[2,52],j:[2,52],ae:[2,52],g:[2,52],ag:[2,52],ai:[2,52],i:[1,e,33]},20:{h:[1,e,47]},21:{h:[2,15],j:[2,15],ae:[2,15],g:[2,15],ai:[2,15]},22:{h:[2,26],j:[2,26],ae:[2,26],g:[2,26],ai:[2,26],k:[1,e,48],ah:[1,e,49]},23:{h:[2,28],ah:[2,28],k:[2,28],j:[2,28],ae:[2,28],g:[2,28],ag:[2,28],ai:[2,28],l:[1,e,50]},24:{h:[2,30],ah:[2,30],k:[2,30],l:[2,30],j:[2,30],ae:[2,30],g:[2,30],ag:[2,30],ai:[2,30],m:[1,e,51],n:[1,e,52]},25:{h:[2,32],ah:[2,32],k:[2,32],l:[2,32],m:[2,32],n:[2,32],j:[2,32],ae:[2,32],g:[2,32],ag:[2,32],ai:[2,32],o:[1,e,53],p:[1,e,54],q:[1,e,55],r:[1,e,56]},26:{h:[2,35],ah:[2,35],k:[2,35],l:[2,35],m:[2,35],n:[2,35],o:[2,35],p:[2,35],q:[2,35],r:[2,35],j:[2,35],ae:[2,35],g:[2,35],ag:[2,35],ai:[2,35],s:[1,e,57],t:[1,e,58]},27:{h:[2,40],ah:[2,40],k:[2,40],l:[2,40],m:[2,40],n:[2,40],o:[2,40],p:[2,40],q:[2,40],r:[2,40],s:[2,40],t:[2,40],j:[2,40],ae:[2,40],g:[2,40],ag:[2,40],ai:[2,40],u:[1,e,59],v:[1,e,60],w:[1,e,61]},28:{h:[2,43],ah:[2,43],k:[2,43],l:[2,43],m:[2,43],n:[2,43],o:[2,43],p:[2,43],q:[2,43],r:[2,43],s:[2,43],t:[2,43],u:[2,43],v:[2,43],w:[2,43],j:[2,43],ae:[2,43],g:[2,43],ag:[2,43],ai:[2,43]},29:{h:[2,49],ah:[2,49],k:[2,49],l:[2,49],m:[2,49],n:[2,49],o:[2,49],p:[2,49],q:[2,49],r:[2,49],s:[2,49],t:[2,49],u:[2,49],v:[2,49],w:[2,49],j:[2,49],ae:[2,49],g:[2,49],ag:[2,49],ai:[2,49]},30:{b:[1,e,1],c:[1,e,2],f:[1,e,3]},31:{a:[2,4],e:[2,4],c:[2,4],f:[2,4],b:[2,4],d:[2,4]},32:{b:[1,e,1],c:[1,e,2],f:[1,e,3]},33:{i:[1,e,11],j:[1,e,64],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},34:{ab:[1,e,71]},35:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},36:{j:[1,e,73]},37:{h:[2,48],ah:[2,48],k:[2,48],l:[2,48],m:[2,48],n:[2,48],o:[2,48],p:[2,48],q:[2,48],r:[2,48],s:[2,48],t:[2,48],u:[2,48],v:[2,48],w:[2,48],j:[2,48],ae:[2,48],g:[2,48],ag:[2,48],ai:[2,48]},38:{h:[2,47],ah:[2,47],k:[2,47],l:[2,47],m:[2,47],n:[2,47],o:[2,47],p:[2,47],q:[2,47],r:[2,47],s:[2,47],t:[2,47],u:[2,47],v:[2,47],w:[2,47],j:[2,47],ae:[2,47],g:[2,47],ag:[2,47],ai:[2,47]},39:{h:[2,17],j:[2,17],ae:[2,17],g:[2,17],ai:[2,17]},40:{ae:[2,24],g:[2,24]},41:{g:[1,e,74],ae:[1,e,75]},42:{ag:[1,e,76]},43:{ag:[1,e,77]},44:{h:[2,19],j:[2,19],ae:[2,19],g:[2,19],ai:[2,19]},45:{g:[1,e,78],ai:[1,e,79]},46:{ai:[2,22],g:[2,22]},47:{a:[2,6],e:[2,6],c:[2,6],f:[2,6],b:[2,6],d:[2,6]},48:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},49:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},50:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},51:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},52:{i:[1,e,11],t:[1,e,12],
x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},53:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},54:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},55:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},56:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},57:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},58:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},59:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},60:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},61:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},62:{a:[2,1],d:[2,1],b:[1,e,1],c:[1,e,2],f:[1,e,3]},63:{d:[1,e,94]},64:{h:[2,11],i:[2,11],ac:[2,11],ad:[2,11],ah:[2,11],k:[2,11],l:[2,11],m:[2,11],n:[2,11],o:[2,11],p:[2,11],q:[2,11],r:[2,11],s:[2,11],t:[2,11],u:[2,11],v:[2,11],w:[2,11],j:[2,11],ae:[2,11],g:[2,11],aa:[2,11],ag:[2,11],ai:[2,11]},65:{g:[2,52],j:[2,52],ah:[2,52],k:[2,52],l:[2,52],m:[2,52],n:[2,52],o:[2,52],p:[2,52],q:[2,52],r:[2,52],s:[2,52],t:[2,52],u:[2,52],v:[2,52],w:[2,52],i:[1,e,33],aa:[1,e,95]},66:{g:[2,14],j:[2,14]},67:{g:[1,e,96],j:[1,e,97]},68:{g:[1,e,98],j:[1,e,99]},69:{g:[2,13],j:[2,13]},70:{j:[2,55],g:[2,55]},71:{i:[2,59],ac:[2,59],ad:[2,59],h:[2,59],ah:[2,59],k:[2,59],l:[2,59],m:[2,59],n:[2,59],o:[2,59],p:[2,59],q:[2,59],r:[2,59],s:[2,59],t:[2,59],u:[2,59],v:[2,59],w:[2,59],j:[2,59],ae:[2,59],g:[2,59],aa:[2,59],ag:[2,59],ai:[2,59]},72:{ae:[1,e,100]},73:{h:[2,53],ah:[2,53],k:[2,53],l:[2,53],m:[2,53],n:[2,53],o:[2,53],p:[2,53],q:[2,53],r:[2,53],s:[2,53],t:[2,53],u:[2,53],v:[2,53],w:[2,53],j:[2,53],ae:[2,53],g:[2,53],ag:[2,53],ai:[2,53]},74:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},75:{h:[2,16],j:[2,16],ae:[2,16],g:[2,16],ai:[2,16]},76:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},77:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},78:{y:[1,e,42],ab:[1,e,43]},79:{h:[2,18],j:[2,18],ae:[2,18],g:[2,18],ai:[2,18]},80:{h:[2,29],ah:[2,29],k:[2,29],j:[2,29],ae:[2,29],g:[2,29],ag:[2,29],ai:[2,29],l:[1,e,50]},81:{k:[1,e,48],ag:[1,e,105]},82:{h:[2,31],ah:[2,31],k:[2,31],l:[2,31],j:[2,31],ae:[2,31],g:[2,31],ag:[2,31],ai:[2,31],m:[1,e,51],n:[1,e,52]},83:{h:[2,33],ah:[2,33],k:[2,33],l:[2,33],m:[2,33],n:[2,33],j:[2,33],ae:[2,33],g:[2,33],ag:[2,33],ai:[2,33],o:[1,e,53],p:[1,e,54],q:[1,e,55],r:[1,e,56]},84:{h:[2,34],ah:[2,34],k:[2,34],l:[2,34],m:[2,34],n:[2,34],j:[2,34],ae:[2,34],g:[2,34],ag:[2,34],ai:[2,34],o:[1,e,53],p:[1,e,54],q:[1,e,55],r:[1,e,56]},85:{h:[2,39],ah:[2,39],k:[2,39],l:[2,39],m:[2,39],n:[2,39],o:[2,39],p:[2,39],q:[2,39],r:[2,39],j:[2,39],ae:[2,39],g:[2,39],ag:[2,39],ai:[2,39],s:[1,e,57],t:[1,e,58]},86:{h:[2,38],ah:[2,38],k:[2,38],l:[2,38],m:[2,38],n:[2,38],o:[2,38],p:[2,38],q:[2,38],r:[2,38],j:[2,38],ae:[2,38],g:[2,38],ag:[2,38],ai:[2,38],s:[1,e,57],t:[1,e,58]},87:{h:[2,37],ah:[2,37],k:[2,37],l:[2,37],m:[2,37],n:[2,37],o:[2,37],p:[2,37],q:[2,37],r:[2,37],j:[2,37],ae:[2,37],g:[2,37],ag:[2,37],ai:[2,37],s:[1,e,57],t:[1,e,58]},88:{h:[2,36],ah:[2,36],k:[2,36],l:[2,36],m:[2,36],n:[2,36],o:[2,36],p:[2,36],q:[2,36],r:[2,36],j:[2,36],ae:[2,36],g:[2,36],ag:[2,36],ai:[2,36],s:[1,e,57],t:[1,e,58]},89:{h:[2,41],ah:[2,41],k:[2,41],l:[2,41],m:[2,41],n:[2,41],o:[2,41],p:[2,41],q:[2,41],r:[2,41],s:[2,41],t:[2,41],j:[2,41],ae:[2,41],g:[2,41],ag:[2,41],ai:[2,41],u:[1,e,59],v:[1,e,60],w:[1,e,61]},90:{h:[2,42],ah:[2,42],k:[2,42],l:[2,42],m:[2,42],n:[2,42],o:[2,42],p:[2,42],q:[2,42],r:[2,42],s:[2,42],t:[2,42],j:[2,42],ae:[2,42],g:[2,42],ag:[2,42],ai:[2,42],u:[1,e,59],v:[1,e,60],w:[1,e,61]},91:{h:[2,44],ah:[2,44],k:[2,44],l:[2,44],m:[2,44],n:[2,44],o:[2,44],p:[2,44],q:[2,44],r:[2,44],s:[2,44],t:[2,44],u:[2,44],v:[2,44],w:[2,44],j:[2,44],ae:[2,44],g:[2,44],ag:[2,44],ai:[2,44]},92:{h:[2,45],ah:[2,45],k:[2,45],l:[2,45],m:[2,45],n:[2,45],o:[2,45],p:[2,45],q:[2,45],r:[2,45],s:[2,45],t:[2,45],u:[2,45],v:[2,45],w:[2,45],j:[2,45],ae:[2,45],g:[2,45],ag:[2,45],ai:[2,45]},93:{h:[2,46],ah:[2,46],k:[2,46],l:[2,46],m:[2,46],n:[2,46],o:[2,46],p:[2,46],q:[2,46],r:[2,46],s:[2,46],t:[2,46],u:[2,46],v:[2,46],w:[2,46],j:[2,46],ae:[2,46],g:[2,46],ag:[2,46],ai:[2,46]},94:{ab:[1,e,7]},95:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},96:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7],ad:[1,e,16],af:[1,e,17]},97:{h:[2,9],i:[2,9],ac:[2,9],ad:[2,9],ah:[2,9],k:[2,9],l:[2,9],m:[2,9],n:[2,9],o:[2,9],p:[2,9],q:[2,9],r:[2,9],s:[2,9],t:[2,9],u:[2,9],v:[2,9],w:[2,9],j:[2,9],ae:[2,9],g:[2,9],aa:[2,9],ag:[2,9],ai:[2,9]},98:{ab:[1,e,7]},99:{h:[2,10],i:[2,10],ac:[2,10],ad:[2,10],ah:[2,10],k:[2,10],l:[2,10],m:[2,10],n:[2,10],o:[2,10],p:[2,10],q:[2,10],r:[2,10],s:[2,10],t:[2,10],u:[2,10],v:[2,10],w:[2,10],j:[2,10],ae:[2,10],g:[2,10],aa:[2,10],ag:[2,10],ai:[2,10]},100:{i:[2,60],ac:[2,60],ad:[2,60],h:[2,60],ah:[2,60],k:[2,60],l:[2,60],m:[2,60],n:[2,60],o:[2,60],p:[2,60],q:[2,60],r:[2,60],s:[2,60],t:[2,60],u:[2,60],v:[2,60],w:[2,60],j:[2,60],ae:[2,60],g:[2,60],aa:[2,60],ag:[2,60],ai:[2,60]},101:{ae:[2,25],g:[2,25]},102:{ai:[2,20],g:[2,20]},103:{ai:[2,21],g:[2,21]},104:{ai:[2,23],g:[2,23]},105:{i:[1,e,11],t:[1,e,12],x:[1,e,13],y:[1,e,14],z:[1,e,15],ab:[1,e,7]},106:{h:[1,e,113],i:[1,e,33]},107:{j:[2,56],g:[2,56]},108:{g:[1,e,98],j:[1,e,114]},109:{g:[2,12],j:[2,12]},110:{i:[1,e,33],aa:[1,e,95]},111:{j:[2,54],g:[2,54]},112:{h:[2,27],j:[2,27],ae:[2,27],g:[2,27],ai:[2,27]},113:{a:[2,5],e:[2,5],c:[2,5],f:[2,5],b:[2,5],d:[2,5]},114:{h:[2,8],i:[2,8],ac:[2,8],ad:[2,8],ah:[2,8],k:[2,8],l:[2,8],m:[2,8],n:[2,8],o:[2,8],p:[2,8],q:[2,8],r:[2,8],s:[2,8],t:[2,8],u:[2,8],v:[2,8],w:[2,8],j:[2,8],ae:[2,8],g:[2,8],aa:[2,8],ag:[2,8],ai:[2,8]}}},a.parse=function(n,r){var o,a,c,u,l,f=this,p=f.lexer,h=f.table,d=h.gotos,y=h.action,m=f.productions,v=r?"in file: "+r+" ":"",g=[],b=[0],x=[];for(p.resetInput(n);;){if(o=t(b),a||(a=p.lex()),u=a?y[o]&&y[o][a]:null,!u){var w,_=[];throw y[o]&&i(y[o],function(e,t){u=e[s.TYPE_INDEX];var n=[];n[s.SHIFT_TYPE]="shift",n[s.REDUCE_TYPE]="reduce",n[s.ACCEPT_TYPE]="accept",_.push(n[u]+":"+f.lexer.mapReverseSymbol(t))}),w=v+"syntax error at line "+p.lineNumber+":\n"+p.showDebugInfo()+"\nexpect "+_.join(", "),new Error(w)}switch(u[s.TYPE_INDEX]){case s.SHIFT_TYPE:x.push(a),g.push(p.text),b.push(u[s.TO_INDEX]),a=null;break;case s.REDUCE_TYPE:var k=m[u[s.PRODUCTION_INDEX]],E=k.symbol||k[0],S=k.action||k[2],T=k.rhs||k[1],A=T.length;l=t(g,A),c=e,f.$$=l;for(var C=0;C<A;C++)f["$"+(A-C)]=t(g,C+1);S&&(c=S.call(f)),l=c!==e?c:f.$$;var N=A*-1;b.splice(N,A),g.splice(N,A),x.splice(N,A),x.push(E),g.push(l);var I=d[t(b)][E];b.push(I);break;case s.ACCEPT_TYPE:return l}}},a}();e.exports=r},function(e,t){"use strict";function n(e,t){var n=e.length,r=t.length;if(n!==r)return 0;for(var i=0;i<n;i++)if(e[i]!==t[i])return 0;return 1}var r={};r.ProgramNode=function(e,t,n){var r=this;r.pos=e,r.statements=t,r.inverse=n},r.ProgramNode.prototype.type="program",r.BlockStatement=function(e,t,r,i,o){var a=i.parts,s=this,c=void 0;if(!n(t.id.parts,a))throw c="in file: "+e.filename+" syntax error at line     "+e.line+", col "+e.col+":\n    expect {{/"+t.id.parts+"}} not {{/"+a+"}}",new Error(c);s.escape=o,s.pos=e,s.func=t,s.program=r},r.BlockStatement.prototype.type="blockStatement",r.ExpressionStatement=function(e,t,n){var r=this;r.pos=e,r.value=t,r.escape=n},r.ExpressionStatement.prototype.type="expressionStatement",r.ContentStatement=function(e,t){var n=this;n.pos=e,n.value=t||""},r.ContentStatement.prototype.type="contentStatement",r.UnaryExpression=function(e,t){this.value=t,this.unaryType=e},r.Function=function(e,t,n,r){var i=this;i.pos=e,i.id=t,i.params=n,i.hash=r},r.Function.prototype.type="function",r.UnaryExpression.prototype.type="unaryExpression",r.MultiplicativeExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},r.MultiplicativeExpression.prototype.type="multiplicativeExpression",r.AdditiveExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},r.AdditiveExpression.prototype.type="additiveExpression",r.RelationalExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},r.RelationalExpression.prototype.type="relationalExpression",r.EqualityExpression=function(e,t,n){var r=this;r.op1=e,r.opType=t,r.op2=n},r.EqualityExpression.prototype.type="equalityExpression",r.ConditionalAndExpression=function(e,t){var n=this;n.op1=e,n.op2=t,n.opType="&&"},r.ConditionalAndExpression.prototype.type="conditionalAndExpression",r.ConditionalOrExpression=function(e,t){var n=this;n.op1=e,n.op2=t,n.opType="||"},r.ConditionalOrExpression.prototype.type="conditionalOrExpression",r.ConditionalExpression=function(e,t,n){var r=this;r.op1=e,r.op2=t,r.op3=n,r.opType="?:"},r.ConditionalExpression.prototype.type="conditionalExpression",r.String=function(e,t){var n=this;n.pos=e,n.value=t},r.String.prototype.type="string",r.Number=function(e,t){var n=this;n.pos=e,n.value=t},r.Number.prototype.type="number",r.Hash=function(e,t){var n=this;n.pos=e,n.value=t},r.Hash.prototype.type="hash",r.ArrayExpression=function(e){this.list=e},r.ArrayExpression.prototype.type="arrayExpression",r.ObjectExpression=function(e){this.obj=e},r.ObjectExpression.prototype.type="objectExpression",r.Id=function(e,t){var n=this,r=[],i=0;n.pos=e;for(var o=0,a=t.length;o<a;o++){var s=t[o];".."===s?i++:r.push(s)}n.parts=r,n.string=r.join("."),n.depth=i},r.Id.prototype.type="id",e.exports=r},function(e,t){"use strict";function n(e,t){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments[3];if(!e.length)return t;var o=i||t,a=e[0],s="t"+r;return["("+t+" != null ? ",n(e.slice(1),"("+s+" = "+(o+a)+")",r+1,s)," : ",o,")"].join("")}function r(e,t,r,i){return e?n(t.slice(1),r):i}var i=/\\*"/g,o=/\\*'/g,a=[].push,s={};s.undefined=s["null"]=s["true"]=s["false"]=1;var c=e.exports={genStackJudge:n,isGlobalId:function(e){return s[e.string]?1:0},chainedVariableRead:function(e,t,n,i,o,a){var s=c.convertIdPartsToRawAccessor(e,t,n),u=s.parts,l=u[0],f="";i&&(f="scope.root.");var p=f+"affix",h=f+"data",d=["(","(t=("+(p+l)+")) !== undefined ? ",n.length>1?r(a,u,"t",p+s.str):"t"," : "];return o?d=d.concat(["(","(t = "+(h+l)+") !== undefined ? ",n.length>1?r(a,u,"t",h+s.str):"t","  : ",a?"scope.resolveLooseUp("+s.arr+")":"scope.resolveUp("+s.arr+")",")"]):d.push(r(a,u,h+l,h+s.str)),d.push(")"),d.join("")},convertIdPartsToRawAccessor:function(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=[],l=[],f="";for(r=0,i=n.length;r<i;r++)o=n[r],a=o.type,a?(s=e[a](o),c.pushToArray(t,s.source),"function"===a&&(f=1),l.push("[ "+s.exp+" ]"),u.push(s.exp)):(l.push("."+o),u.push(c.wrapByDoubleQuote(o)));return{str:l.join(""),arr:"["+u.join(",")+"]",parts:l,funcRet:f,resolvedParts:u}},wrapByDoubleQuote:function(e){return'"'+e+'"'},wrapBySingleQuote:function(e){return"'"+e+"'"},joinArrayOfString:function(e){return c.wrapByDoubleQuote(e.join('","'))},escapeSingleQuoteInCodeString:function(e,t){return e.replace(t?i:o,function(e){var t=e;return t.length%2&&(t="\\"+t),t})},escapeString:function(e,t){var n=e;return n=t?c.escapeSingleQuoteInCodeString(n,0):n.replace(/\\/g,"\\\\").replace(/'/g,"\\'"),n=n.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")},pushToArray:function(e,t){t&&a.apply(e,t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(20),s=r(a),c=n(27),u=r(c),l=n(38),f=r(l),p=n(41),h=r(p),d=n(44),y=r(d),m=n(23),v=r(m),g=n(22),b=r(g),x=n(8),w=(r(x),n(47)),_=r(w),k=n(7),E=r(k);n(95);var S=function(){function e(t,n,r,o,a){i(this,e),this.from=t,this.to=n,this.userInfo=r,this.href=o,this.title=a}return o(e,[{key:"render",value:function(e){var t=this,n=b["default"].token+"?from="+t.from+"&to="+t.to+"&href="+this.href+"&title="+this.title;(0,v["default"])({url:n}).then(function(n){if(n.success){window.parent.postMessage(JSON.stringify({action:"init",data:n}),"*");var r=new y["default"](n.web);r.render(e);var i=new u["default"](t.from,t.to,t.userInfo,n.web,n.contact_id);if(n.web.display_agent_group&&n.online&&!E["default"].get("group_id"))var i=new f["default"](n.group);var o=b["default"].socket+"?token="+n.token,a=(0,_["default"])(o);if(a.on("message",function(e){if(0!==e.length&&i.messages){var t=0;e.length?t=e.length:(E["default"].set("order_id",e["package"].order_id),i.messages.push(e),t++),window.parent.postMessage(JSON.stringify({action:"unread",num:t}),"*"),i.renderMessage()}}),"IM-LM"===n.web.type)n.online||(i=new s["default"](t.from,t.to,t.userInfo,n.web));else if("ORDER"===n.web.type){var c=E["default"].get("chatting");n.online?c||(i=new h["default"](t.from,t.to,t.userInfo,n.web.order,n.web)):i=new s["default"](t.from,t.to,t.userInfo,n.web)}i.render(e)}else e.innerHTML='<div class="error-tips" style="display:block">'+n.msg+"</div>"})}}]),e}();t["default"]=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),s=r(a),c=n(22),u=r(c),l=n(23),f=r(l),p=n(8),h=r(p),d=n(7),y=r(d);n(25);var m=function(){function e(t,n,r,o){i(this,e),this.elm=document.createElement("div"),this.elm.id="lm",this.from=t,this.to=n,this.userInfo=r,this.setting=o}return o(e,[{key:"validator",value:function(e,t,n,r){e.style.display="none";var i=document.querySelectorAll(".error");return[].forEach.call(i,function(e){e.className=""}),t.value||n.value?t.value&&!/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(t.value)?(e.innerText="邮箱格式不正确",e.style.display="block",t.focus(),void(t.className="error")):n.value&&!/^(13\d|15[^4\D]|17[13678]|18\d)\d{8}|170[^346\D]\d{7}$/.test(n.value)?(e.innerText="手机号码格式不正确",e.style.display="block",n.focus(),void(n.className="error")):r.value?void 0:(e.innerText="请填写内容",e.style.display="block",r.focus(),void(r.className="error")):(t.focus(),e.innerText="请至少填写一种联系方式",void(e.style.display="block"))}},{key:"render",value:function(e){var t=this,n=new h["default"](s["default"]).render({setting:this.setting});this.elm.innerHTML=n,e.appendChild(this.elm),y["default"].set("chatting",1),t.elm.querySelector("#submit").addEventListener("click",function(){var e=document.getElementById("email"),n=document.getElementById("phone"),r=document.getElementById("content"),i=document.querySelector(".error-tips");if(t.validator(i,e,n,r),"block"!==i.style.display){var o=t.elm.querySelector(".form"),a=t.elm.querySelector(".success"),s={email:e.value,phone:n.value,body:r.value,from:t.from,to:t.to,user_info:t.userInfo};(0,f["default"])({url:u["default"].lm,method:"POST",data:s}).then(function(e){e.success?(r.value="",o.style.display="none",a.style.display="block"):(i.innerText=e.msg,i.style.display="block")}),t.elm.querySelector("#reset").addEventListener("click",function(){o.style.display="block",a.style.display="none"})}})}}]),e}();t["default"]=m},function(e,t){e.exports='<form class=form style=display:block> <div class=error-tips style=display:none> </div> <div class=form-item> <input type=email name=email id=email placeholder=您的邮箱 /> </div> <div class=form-item> <input type=text name=phone id=phone placeholder=您的手机号码 /> </div> <div class=form-item> <textarea name=content id=content placeholder=填写问题></textarea> </div> <div class=submit> <input id=submit type=button class="btn btn-primary" value=提交 style=background-color:#{{setting.title_bg_color}} /> </div> </form> <div class=success style=display:none> <div class=alert-dialog> <div class=content> <h3>留言提交成功</h3> <p>客服稍后将联系您,请耐心等待</p> <input id=reset type=button class="btn btn-primary" value=确定 style=background-color:#{{setting.title_bg_color}} /> </div> </div> </div>'},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="usingnet.com",r={host:"//im."+n,socket:"//socket."+n+"/",start:"//im."+n+"/v2/client/start",read:"//im."+n+"/v2/client/read",token:"//im."+n+"/v2/client/info",send:"//im."+n+"/v2/client/send",lm:"//im."+n+"/v2/client/lm",evaluate:"//im."+n+"/v2/client/evaluate",upload:"//im."+n+"/v2/upload"};t["default"]=r},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
	  * Reqwest! A general purpose XHR connection manager
	  * license MIT (c) Dustin Diaz 2015
	  * https://github.com/ded/reqwest
	  */
!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var i="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),c=r.match(s),u=doc.createElement("script"),l=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return c?"?"===c[3]?r=r.replace(s,"$1="+a):a=c[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,"undefined"==typeof u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+i),u.onload=u.onreadystatechange=function(){return!(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l)&&(u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),void(l=1))},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),l=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,o):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,o,r.async!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!(n||r)||e.checked)&&t(a,normalize(n&&""===i?"on":i)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&c(e.options[o])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,i,o;for(r=0;r<t.length;r++)for(o=e[byTag](t[r]),i=0;i<o.length;i++)serial(o[i],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(24)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},function(e,t){},function(e,t){},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(28);var a=n(8),s=r(a),c=n(23),u=r(c),l=n(22),f=r(l),p=n(32),h=r(p),d=n(33),y=r(d),m=n(34),v=r(m),g=n(35),b=r(g),x=n(36),w=r(x),_=n(37),k=r(_),E=n(7),S=r(E),T=function(){function e(t,n,r,o,a){i(this,e),this.elm=document.createElement("div"),this.elm.id="im",this.from=t,this.to=n,this.userInfo=r,this.messages=[],this.setting=o,this.contactId=a}return o(e,[{key:"send",value:function(e){if(e){var t=this,n=f["default"].send,r={body:e,from:this.from,to:this.to,user_info:this.user_info};(0,u["default"])({url:n,method:"POST",data:r}).then(function(e){e.data.created_at=parseInt(Date.now(),10),/^((http|https)\:\/\/)?[a-zA-Z0-9\.\/\?\:@\-_=#]+\.([a-zA-Z0-9\.\/\?\:@\-_=#])*.(jpg|jpeg|gif|png|bmp)/i.test(e.data.body)?(e.data.type="image",e.data.body='<img src="'+e.data.body+'"/>'):e.data.type="text",t.messages.push(e.data),t.renderMessage(t.messages)})}}},{key:"onSend",value:function(e){var t=this,n=e.querySelector("#submit"),r=e.querySelector("textarea");n.addEventListener("click",function(){t.send(r.value),r.value=""}),r.addEventListener("keydown",function(e){13===e.keyCode&&e.ctrlKey?r.value=r.value+"\n":13==e.keyCode&&(e.preventDefault(),t.send(r.value),r.value="")})}},{key:"renderMessage",value:function(){var e=(0,b["default"])(this.messages);e.forEach(function(e,t){if(e.created_at=new Date(parseInt(e.created_at,10)).toString().substring(16,21),e.body=v["default"].textToHtml(e.body),/^<img/.test(e.body)){e.type="image";var n=e.body.match(/src=('|")(.+)\1/)[2];e.body='<a href="'+n+'" target="_blank">'+e.body+"</a>"}});var t=new s["default"](h["default"]).render({messages:e,setting:this.setting}),n=view.querySelector(".messages");n.innerHTML=t,n.scrollTop=n.querySelector(".messages-wrap").clientHeight;var r=n.querySelectorAll("img");[].forEach.call(r,function(e){e.addEventListener("load",function(){n.scrollTop=n.querySelector(".messages-wrap").clientHeight})})}},{key:"resetScroll",value:function(e){var t=this.dom.querySelector(".messages");"up"===e&&(t.scrollTop=0)}},{key:"init",value:function(){var e=this;if(!document.getElementById("im")){var t=new s["default"](y["default"]).render({setting:e.setting});this.elm.innerHTML=t,view.appendChild(this.elm),this.onSend(view);var n=S["default"].get("group_id"),r=f["default"].start+"?contact_id="+this.contactId+"&user_info="+this.userInfo+"&group_id="+n+"&web_id="+this.setting.id;(0,u["default"])({url:r}).then(function(t){e.messages=t.data,e.renderMessage(),t.data.length&&S["default"].set("order_id",t.data[0]["package"].order_id)})}var i=(this.elm.querySelector(".error-tips"),view.querySelector(".faces"));v["default"].render(i),this.elm.querySelector(".face").addEventListener("click",function(){v["default"].toggle()}),this.elm.querySelector(".upload").addEventListener("click",function(){var e=document.getElementById("file");e.click()}),w["default"].init(function(t){e.send(t.data)}),this.elm.querySelector(".evaluate").addEventListener("click",function(){k["default"].toggle()}),k["default"].init(function(t){var n={body:t.data,type:"SYSTEM",direction:"receive",created_at:parseInt(Date.now()/1e3)};e.messages.push(n),e.renderMessage(e.messages)})}},{key:"render",value:function(e){var t=this;window.addEventListener("message",function(e){var n=JSON.parse(e.data);if(!S["default"].get("chatting")){t.init(),S["default"].set("chatting",1);var r=f["default"].read+"?from="+t.from;(0,u["default"])({url:r,method:"GET"})}if("read"===n.action){var r=f["default"].read+"?from="+t.from;(0,u["default"])({url:r,method:"GET"})}}),S["default"].get("chatting")&&this.init()}}]),e}();t["default"]=T},function(e,t){},,,,function(e,t){e.exports="<div class=messages-wrap> {{#each (messages)}} <div class=\"item {{ this.direction.toLowerCase() }} {{ this.type.toLowerCase() }}\"> {{#if (this.type === 'SYSTEM')}} <div class=text>{{ this.body }}</div> {{else}} <div class=name> {{#if (this.direction === 'SEND')}} {{ this.package.agent.name }} {{/if}} <span class=time>{{ this.created_at }}</span> </div> {{#if (this.type === 'image')}} <div class=image> {{{ this.body }}} </div> {{elseif (this.direction === 'SEND')}} <div class=bubble style=background-color:#{{setting.title_bg_color}}> <div class=arrow style=background-color:#{{setting.title_bg_color}}></div> {{{ body }}} </div> {{else}} <div class=bubble> <div class=arrow></div> {{{ body }}} </div> {{/if}} {{/if}} </div> {{/each}} </div>"},function(e,t){e.exports='<div class=error-tips> </div> <div class=messages> </div> {{#if (setting.plan)}} <div class=footer style=height:160px> {{else}} <div class=footer> {{/if}} <textarea class=editor placeholder="{{ setting.input_placeholder }}"></textarea> <div class=tools-bar> <div class=tools> <i class="fa fa-smile-o face"></i> <i class="fa fa-image upload"></i> <i class="fa fa-thumbs-up evaluate"></i> <ul class=faces></ul> <input type=file name=file id=file> </div> <div class=submit> <button id=submit class="btn btn-primary" style="background-color:#{{ setting.title_bg_color }}">发送</button> </div> </div> {{#if (!setting.plan)}} <div class=copyright> <a target=_blank href=https://www.usingnet.com>优信科技提供技术支持</a> </div> {{/if}} </div> <div id=evaluate> <div class=close> <i class="fa fa-close"></i> </div> <div class=header> 请对我们的服务做出评价 </div> <div class=levels> <ul> <li class="good selected"> <i></i> <span>好评</span> </li> <li class=general> <i></i> <span>中评</span> </li> <li class=bad> <i></i> <span>差评</span> </li> </ul> </div> <div class=editor> <textarea placeholder=请填写评价内容（选填）></textarea> </div> <div class=submit> <button class="btn btn-primary" style="background-color:#{{ setting.title_bg_color }}">提交</button> </div> </div></div>'},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=["微笑","撇嘴","色","发呆","得意","流泪","害羞","闭嘴","睡","大哭","尴尬","发怒","调皮","呲牙","惊讶","难过","酷","冷汗","抓狂","吐","偷笑","愉快","白眼","傲慢","饥饿","困","惊恐","流汗","憨笑","悠闲","奋斗","咒骂","疑问","嘘","晕","疯了","衰","骷髅","敲打","再见","擦汗","抠鼻","鼓掌","糗大了","坏笑","左哼哼","右哼哼","哈欠","鄙视","委屈","快哭了","阴险","亲亲","吓","可怜","菜刀","西瓜","啤酒","篮球","乒乓","咖啡","饭","猪头","玫瑰","凋谢","嘴唇","爱心","心碎","蛋糕","闪电","炸弹","刀","足球","瓢虫","便便","月亮","太阳","礼物","拥抱","强","弱","握手","胜利","抱拳","勾引","拳头","差劲","爱你","NO","OK","爱情","飞吻","跳跳","发抖","怄火","转圈","磕头","回头","跳绳","投降","激动","乱舞","献吻","左太极","右太极"],o={"微笑":"0","撇嘴":"1","色":"2","发呆":"3","得意":"4","流泪":"5","害羞":"6","闭嘴":"7","睡":"8","大哭":"9","尴尬":"10","发怒":"11","调皮":"12","呲牙":"13","惊讶":"14","难过":"15","酷":"16","冷汗":"17","抓狂":"18","吐":"19","偷笑":"20","可爱":"21","愉快":"21","白眼":"22","傲慢":"23","饥饿":"24","困":"25","惊恐":"26","流汗":"27","憨笑":"28","悠闲":"29","大兵":"29","奋斗":"30","咒骂":"31","疑问":"32","嘘":"33","晕":"34","疯了":"35","折磨":"35","衰":"36","骷髅":"37","敲打":"38","再见":"39","擦汗":"40","抠鼻":"41","鼓掌":"42","糗大了":"43","坏笑":"44","左哼哼":"45","右哼哼":"46","哈欠":"47","鄙视":"48","委屈":"49","快哭了":"50","阴险":"51","亲亲":"52","吓":"53","可怜":"54","菜刀":"55","西瓜":"56","啤酒":"57","篮球":"58","乒乓":"59","咖啡":"60","饭":"61","猪头":"62","玫瑰":"63","凋谢":"64","嘴唇":"65","示爱":"65","爱心":"66","心碎":"67","蛋糕":"68","闪电":"69","炸弹":"70","刀":"71","足球":"72","瓢虫":"73","便便":"74","月亮":"75","太阳":"76","礼物":"77","拥抱":"78","强":"79","弱":"80","握手":"81","胜利":"82","抱拳":"83","勾引":"84","拳头":"85","差劲":"86","爱你":"87",NO:"88",OK:"89","爱情":"90","飞吻":"91","跳跳":"92","发抖":"93","怄火":"94","转圈":"95","磕头":"96","回头":"97","跳绳":"98","投降":"99","激动":"100","乱舞":"101","献吻":"102","左太极":"103","右太极":"104",Smile:"0",Grimace:"1",Drool:"2",Scowl:"3",Chill:"4",CoolGuy:"4",Sob:"5",Shy:"6",Shutup:"7",Silent:"7",Sleep:"8",Cry:"9",Awkward:"10",Pout:"11",Angry:"11",Wink:"12",Tongue:"12",Grin:"13",Surprised:"14",Surprise:"14",Frown:"15",Cool:"16",Ruthless:"16",Tension:"17",Blush:"17",Scream:"18",Crazy:"18",Puke:"19",Chuckle:"20",Joyful:"21",Slight:"22",Smug:"23",Hungry:"24",Drowsy:"25",Panic:"26",Sweat:"27",Laugh:"28",Loafer:"29",Commando:"29",Strive:"30",Determined:"30",Scold:"31",Doubt:"32",Shocked:"32",Shhh:"33",Dizzy:"34",Tormented:"35",BadLuck:"36",Toasted:"36",Skull:"37",Hammer:"38",Wave:"39",Relief:"40",Speechless:"40",DigNose:"41",NosePick:"41",Clap:"42",Shame:"43",Trick:"44","Bah！L":"45","Bah！R":"46",Yawn:"47",Lookdown:"48","Pooh-pooh":"48",Wronged:"49",Shrunken:"49",Puling:"50",TearingUp:"50",Sly:"51",Kiss:"52","Uh-oh":"53",Wrath:"53",Whimper:"54",Cleaver:"55",Melon:"56",Watermelon:"56",Beer:"57",Basketball:"58",PingPong:"59",Coffee:"60",Rice:"61",Pig:"62",Rose:"63",Wilt:"64",Lip:"65",Lips:"65",Heart:"66",BrokenHeart:"67",Cake:"68",Lightning:"69",Bomb:"70",Dagger:"71",Soccer:"72",Ladybug:"73",Poop:"74",Moon:"75",Sun:"76",Gift:"77",Hug:"78",Strong:"79",ThumbsUp:"79",Weak:"80",ThumbsDown:"80",Shake:"81",Victory:"82",Peace:"82",Admire:"83",Fight:"83",Beckon:"84",Fist:"85",Pinky:"86",Love:"2",RockOn:"87",No:"88","Nuh-uh":"88",InLove:"90",Blowkiss:"91",Waddle:"92",Tremble:"93","Aaagh!":"94",Twirl:"95",Kotow:"96",Lookback:"97",Dramatic:"97",Jump:"98",JumpRope:"98","Give-in":"99",Surrender:"99",Hooray:"100",HeyHey:"101",Meditate:"101",Smooch:"102","TaiJi L":"103","TaiChi L":"103","TaiJi R":"104","TaiChi R":"104","發呆":"3","流淚":"5","閉嘴":"7","尷尬":"10","發怒":"11","調皮":"12","驚訝":"14","難過":"15","饑餓":"24","累":"25","驚恐":"26","悠閑":"29","奮鬥":"30","咒罵":"31","疑問":"32","噓":"33","暈":"34","瘋了":"35","骷髏頭":"37","再見":"39","摳鼻":"41","羞辱":"43","壞笑":"44","鄙視":"48","陰險":"51","親親":"52","嚇":"53","可憐":"54","籃球":"58","飯":"61","豬頭":"62","枯萎":"64","愛心":"66","閃電":"69","炸彈":"70","甲蟲":"73","太陽":"76","禮物":"77","擁抱":"78","強":"79","勝利":"82","拳頭":"85","差勁":"86","愛你":"88","愛情":"90","飛吻":"91","發抖":"93","噴火":"94","轉圈":"95","磕頭":"96","回頭":"97","跳繩":"98","激動":"100","亂舞":"101","獻吻":"102","左太極":"103","右太極":"104"},a={"<笑脸>":"1f604","<笑臉>":"1f604","<Laugh>":"1f604","<开心>":"1f60a","<開心>":"1f60a","<Happy>":"1f60a","<大笑>":"1f603","<Big Smile>":"1f603","<热情>":"263a","<熱情>":"263a","<Glowing>":"263a","<眨眼>":"1f609","<Wink>":"1f609","<色>":"1f60d","<Love>":"1f60d","<Drool>":"1f60d","<接吻>":"1f618","<Smooch>":"1f618","<亲吻>":"1f61a","<親吻>":"1f61a","<Kiss>":"1f61a","<脸红>":"1f633","<臉紅>":"1f633","<Blush>":"1f633","<露齿笑>":"1f63c","<露齒笑>":"1f63c","<Grin>":"1f63c","<满意>":"1f60c","<滿意>":"1f60c","<Satisfied>":"1f60c","<戏弄>":"1f61c","<戲弄>":"1f61c","<Tease>":"1f61c","<吐舌>":"1f445","<Tongue>":"1f445","<无语>":"1f612","<無語>":"1f612","<Speechless>":"1f612","<得意>":"1f60f","<Smirk>":"1f60f","<CoolGuy>":"1f60f","<汗>":"1f613","<Sweat>":"1f613","<失望>":"1f640","<Let Down>":"1f640","<低落>":"1f61e","<Low>":"1f61e","<呸>":"1f616","<Ugh>":"1f616","<焦虑>":"1f625","<焦慮>":"1f625","<Anxious>":"1f625","<担心>":"1f630","<擔心>":"1f630","<Worried>":"1f630","<震惊>":"1f628","<震驚>":"1f628","<Shocked>":"1f628","<悔恨>":"1f62b","<D’oh!>":"1f62b","<眼泪>":"1f622","<眼淚>":"1f622","<Tear>":"1f622","<哭>":"1f62d","<Cry>":"1f62d","<破涕为笑>":"1f602","<破涕為笑>":"1f602","<Lol>":"1f602","<晕>":"1f632","<Dead>":"1f632","<Dizzy>":"1f632","<恐惧>":"1f631","<恐懼>":"1f631","<Terror>":"1f631","<心烦>":"1f620","<心煩>":"1f620","<Upset>":"1f620","<生气>":"1f63e","<生氣>":"1f63e","<Angry>":"1f63e","<睡觉>":"1f62a","<睡覺>":"1f62a","<Zzz>":"1f62a","<生病>":"1f637","<Sick>":"1f637","<恶魔>":"1f47f","<惡魔>":"1f47f","<Demon>":"1f47f","<外星人>":"1f47d","<Alien>":"1f47d","<心>":"2764","<Heart>":"2764","<心碎>":"1f494","<Heartbroken>":"1f494","<BrokenHeart>":"1f494","<丘比特>":"1f498","<Cupid>":"1f498","<闪烁>":"2728","<閃爍>":"2728","<Twinkle>":"2728","<星星>":"1f31f","<Star>":"1f31f","<叹号>":"2755","<嘆號>":"2755","<!>":"2755","<问号>":"2754","<問號>":"2754","<?>":"2754","<睡着>":"1f4a4","<睡著>":"1f4a4","<Asleep>":"1f4a4","<水滴>":"1f4a6","<Drops>":"1f4a6","<音乐>":"1f3b5","<音樂>":"1f3b5","<Music>":"1f3b5","<火>":"1f525","<Fire>":"1f525","<便便>":"1f4a9","<Poop>":"1f4a9","<强>":"1f44d","<強>":"1f44d","<ThumbsUp>":"1f44d","<弱>":"1f44e","<ThumbsDown>":"1f44e","<拳头>":"1f44a","<拳頭>":"1f44a","<Punch>":"1f44a","<Fist>":"1f44a","<胜利>":"270c","<勝利>":"270c","<Peace>":"270c","<上>":"1f446","<Up>":"1f446","<下>":"1f447","<Down>":"1f447","<右>":"1f449","<Right>":"1f449","<左>":"1f448","<Left>":"1f448","<第一>":"261d","<#1>":"261d","<强壮>":"1f4aa","<強壯>":"1f4aa","<Strong>":"1f4aa","<吻>":"1f48f","<Kissing>":"1f48f","<热恋>":"1f491","<熱戀>":"1f491","<Couple>":"1f491","<男孩>":"1f466","<Boy>":"1f466","<女孩>":"1f467","<Girl>":"1f467","<女士>":"1f469","<Lady>":"1f469","<男士>":"1f468","<Man>":"1f468","<天使>":"1f47c","<Angel>":"1f47c","<骷髅>":"1f480","<骷髏>":"1f480","<Skull>":"1f480","<红唇>":"1f48b","<紅唇>":"1f48b","<Lips>":"1f48b","<太阳>":"2600","<太陽>":"2600","<Sun>":"2600","<下雨>":"2614","<Rain>":"2614","<多云>":"2601","<多雲>":"2601","<Cloud>":"2601","<雪人>":"26c4","<Snowman>":"26c4","<月亮>":"1f319","<Moon>":"1f319","<闪电>":"26a1","<閃電>":"26a1","<Lightning>":"26a1","<海浪>":"1f30a","<Waves>":"1f30a","<猫>":"1f431","<貓>":"1f431","<Cat>":"1f431","<小狗>":"1f429","<Doggy>":"1f429","<老鼠>":"1f42d","<Mouse>":"1f42d","<仓鼠>":"1f439","<倉鼠>":"1f439","<Hamster>":"1f439","<兔子>":"1f430","<Rabbit>":"1f430","<狗>":"1f43a","<Dog>":"1f43a","<青蛙>":"1f438","<Frog>":"1f438","<老虎>":"1f42f","<Tiger>":"1f42f","<考拉>":"1f428","<Koala>":"1f428","<熊>":"1f43b","<Bear>":"1f43b","<猪>":"1f437","<豬>":"1f437","<Pig>":"1f437","<牛>":"1f42e","<Cow>":"1f42e","<野猪>":"1f417","<野豬>":"1f417","<Boar>":"1f417","<猴子>":"1f435","<Monkey>":"1f435","<马>":"1f434","<馬>":"1f434","<Horse>":"1f434","<蛇>":"1f40d","<Snake>":"1f40d","<鸽子>":"1f426","<鴿子>":"1f426","<Pigeon>":"1f426","<鸡>":"1f414","<雞>":"1f414","<Chicken>":"1f414","<企鹅>":"1f427","<企鵝>":"1f427","<Penguin>":"1f427","<毛虫>":"1f41b","<毛蟲>":"1f41b","<Caterpillar>":"1f41b","<章鱼>":"1f419","<八爪魚>":"1f419","<Octopus>":"1f419","<鱼>":"1f420","<魚>":"1f420","<Fish>":"1f420","<鲸鱼>":"1f433","<鯨魚>":"1f433","<Whale>":"1f433","<海豚>":"1f42c","<Dolphin>":"1f42c","<玫瑰>":"1f339","<Rose>":"1f339","<花>":"1f33a","<Flower>":"1f33a","<棕榈树>":"1f334","<棕櫚樹>":"1f334","<Palm>":"1f334","<仙人掌>":"1f335","<Cactus>":"1f335","<礼盒>":"1f49d","<禮盒>":"1f49d","<Candy Box>":"1f49d","<南瓜灯>":"1f383","<南瓜燈>":"1f383","<Jack-o-lantern>":"1f383","<鬼魂>":"1f47b","<Ghost>":"1f47b","<圣诞老人>":"1f385","<聖誕老人>":"1f385","<Santa>":"1f385","<圣诞树>":"1f384","<聖誕樹>":"1f384","<Xmas Tree>":"1f384","<礼物>":"1f381","<禮物>":"1f381","<Gift>":"1f381","<铃>":"1f514","<鈴鐺>":"1f514","<Bell>":"1f514","<庆祝>":"1f389","<慶祝>":"1f389","<Party>":"1f389","<气球>":"1f388","<氣球>":"1f388","<Balloon>":"1f388","<CD>":"1f4bf","<相机>":"1f4f7","<相機>":"1f4f7","<Camera>":"1f4f7","<录像机>":"1f3a5","<錄影機>":"1f3a5","<Film Camera>":"1f3a5","<电脑>":"1f4bb","<電腦>":"1f4bb","<Computer>":"1f4bb","<电视>":"1f4fa","<電視>":"1f4fa","<TV>":"1f4fa","<电话>":"1f4de","<電話>":"1f4de","<Phone>":"1f4de","<解锁>":"1f513","<解鎖>":"1f513","<Unlocked>":"1f513","<锁>":"1f512","<鎖>":"1f512","<Locked>":"1f512","<钥匙>":"1f511","<鑰匙>":"1f511","<Key>":"1f511","<成交>":"1f528","<Judgement>":"1f528","<灯泡>":"1f4a1","<燈泡>":"1f4a1","<Light bulb>":"1f4a1","<邮箱>":"1f4eb","<郵箱>":"1f4eb","<Mail>":"1f4eb","<浴缸>":"1f6c0","<Wash>":"1f6c0","<钱>":"1f4b2","<錢>":"1f4b2","<Money>":"1f4b2","<炸弹>":"1f4a3","<炸彈>":"1f4a3","<Bomb>":"1f4a3","<手枪>":"1f52b","<手槍>":"1f52b","<Pistol>":"1f52b","<药丸>":"1f48a","<藥丸>":"1f48a","<Pill>":"1f48a","<橄榄球>":"1f3c8","<橄欖球>":"1f3c8","<Football>":"1f3c8","<篮球>":"1f3c0","<籃球>":"1f3c0","<Basketball>":"1f3c0","<足球>":"26bd","<Soccer Ball>":"26bd","<Soccer>":"26bd","<棒球>":"26be","<Baseball>":"26be","<高尔夫>":"26f3","<高爾夫>":"26f3","<Golf>":"26f3","<奖杯>":"1f3c6","<獎盃>":"1f3c6","<Trophy>":"1f3c6","<入侵者>":"1f47e","<Invader>":"1f47e","<唱歌>":"1f3a4","<Singing>":"1f3a4","<吉他>":"1f3b8","<Guitar>":"1f3b8","<比基尼>":"1f459","<Bikini>":"1f459","<皇冠>":"1f451","<Crown>":"1f451","<雨伞>":"1f302","<雨傘>":"1f302","<Umbrella>":"1f302","<手提包>":"1f45c","<Purse>":"1f45c","<口红>":"1f484","<Lipstick>":"1f484","<戒指>":"1f48d","<Ring>":"1f48d","<钻石>":"1f48e","<鑽石>":"1f48e","<Gem>":"1f48e","<咖啡>":"2615","<Coffee>":"2615","<啤酒>":"1f37a","<Beer>":"1f37a","<干杯>":"1f37b","<乾杯>":"1f37b","<Toast>":"1f37b","<鸡尾酒>":"1f377","<雞尾酒>":"1f377","<Martini>":"1f377","<汉堡>":"1f354","<漢堡>":"1f354","<Burger>":"1f354","<薯条>":"1f35f","<薯條>":"1f35f","<Fries>":"1f35f","<意面>":"1f35d","<意粉>":"1f35d","<Sphaghetti>":"1f35d","<寿司>":"1f363","<壽司>":"1f363","<Sushi>":"1f363","<面条>":"1f35c","<麵條>":"1f35c","<Noodles>":"1f35c","<煎蛋>":"1f373","<Eggs>":"1f373","<冰激凌>":"1f366","<雪糕>":"1f366","<Ice Cream>":"1f366","<蛋糕>":"1f382","<Cake>":"1f382","<苹果>":"1f34f","<蘋果>":"1f34f","<Apple>":"1f34f","<飞机>":"2708","<飛機>":"2708","<Plane>":"2708","<火箭>":"1f680","<Rocket ship>":"1f680","<自行车>":"1f6b2","<單車>":"1f6b2","<Bike>":"1f6b2","<高铁>":"1f684","<高鐵>":"1f684","<Bullet Train>":"1f684","<警告>":"26a0","<Warning>":"26a0","<旗>":"1f3c1","<Flag>":"1f3c1","<男人>":"1f6b9","<男>":"1f6b9","<Men>":"1f6b9","<女人>":"1f6ba","<女>":"1f6ba","<Women>":"1f6ba","<O>":"2b55","<X>":"274e","<版权>":"a9","<版權>":"a9","<Copyright>":"a9","<注册商标>":"ae","<注冊商標>":"ae","<Registered TM>":"ae","<商标>":"2122","<商標>":"2122","<Trademark>":"2122"},s={"/::)":"0","/::~":"1","/::B":"2","/::|":"3","/:8-)":"4","/::<":"5","/::$":"6","/::X":"7","/::Z":"8","/::'(":"9","/::-|":"10","/::@":"11","/::P":"12","/::D":"13","/::O":"14","/::(":"15","/::+":"16","/:--b":"17","/::Q":"18","/::T":"19","/:,@P":"20","/:,@-D":"21","/::d":"22","/:,@o":"23","/::g":"24","/:|-)":"25","/::!":"26","/::L":"27","/::>":"28","/::,@":"29","/:,@f":"30","/::-S":"31","/:?":"32","/:,@x":"33","/:,@@":"34","/::8":"35","/:,@!":"36","/:!!!":"37","/:xx":"38","/:bye":"39","/:wipe":"40","/:dig":"41","/:handclap":"42","/:&-(":"43","/:B-)":"44","/:<@":"45","/:@>":"46","/::-O":"47","/:>-|":"48","/:P-(":"49","/::'|":"50","/:X-)":"51","/::*":"52","/:@x":"53","/:8*":"54","/:pd":"55","/:<W>":"56","/:beer":"57","/:basketb":"58","/:oo":"59","/:coffee":"60","/:eat":"61","/:pig":"62","/:rose":"63","/:fade":"64","/:showlove":"65","/:heart":"66","/:break":"67","/:cake":"68","/:li":"69","/:bome":"70","/:kn":"71","/:footb":"72","/:ladybug":"73","/:shit":"74","/:moon":"75","/:sun":"76","/:gift":"77","/:hug":"78","/:strong":"79","/:weak":"80","/:share":"81","/:v":"82","/:@)":"83","/:jj":"84","/:@@":"85","/:bad":"86","/:lvu":"87","/:no":"88","/:ok":"89","/:love":"90","/:<L>":"91","/:jump":"92","/:shake":"93","/:<O>":"94","/:circle":"95","/:kotow":"96","/:turn":"97","/:skip":"98","/:oY":"99","/:#-0":"100","/:hiphot":"101","/:kiss":"102","/:<&":"103","/:&>":"104"},c=function(){function e(){n(this,e)}return r(e,[{key:"textToHtml",value:function(e){if(e){var t=e.replace(/[|]/,"");for(var n in s)for(;t.indexOf(n)!=-1;)t=t.replace(n,function(e){return'<span class="qqemoji qqemoji'+s[e]+'"></span>'});return t=t.replace(/\[([^\]]*)\]/g,function(e,t){var n=i.indexOf(t);return n==-1?e:'<span class="qqemoji qqemoji'+o[t]+'"></span>'}),t=t.replace(/\<([^\>\s\\\/]*)\>/g,function(e,t){var n=a[t];return n?'<span class="emoji emoji'+n+'"></span>':e})}}},{key:"toggle",value:function(){var e=document.querySelector(".faces"),t=e.style.display;e.style.display="block"===t?"none":"block"}},{key:"addEvent",value:function(){var e=this;document.querySelector(".fa-smile-o").addEventListener("click",this.onToggle),document.querySelector(".faces").addEventListener("click",function(t){var n=t.target.dataset.face;if(n){var r=document.querySelector(".editor");r.value=r.value+n,r.focus(),e.toggle()}})}},{key:"render",value:function(e){var t=[];i.forEach(function(e,n){t.push('<li data-face="['+e+']"><span data-face="['+e+']" class="qqemoji qqemoji'+n+'"></span></li>')}),e.innerHTML=t.join(""),this.addEvent()}}]),e}();t["default"]=new c},function(e,t,n){"use strict";function r(e){if(!e)return e;var t,n=[Number,String,Boolean];if(n.forEach(function(n){e instanceof n&&(t=n(e))}),"undefined"==typeof t)if("[object Array]"===Object.prototype.toString.call(e))t=[],e.forEach(function(e,n,i){t[n]=r(e)});else if("object"==("undefined"==typeof e?"undefined":i(e)))if(e.nodeType&&"function"==typeof e.cloneNode)var t=e.cloneNode(!0);else if(e.prototype)t=e;else if(e instanceof Date)t=new Date(e);else{t={};for(var o in e)t[o]=r(e[o])}else t=e;return t}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(23),s=r(a),c=n(22),u=r(c),l=function(){function e(){i(this,e)}return o(e,[{key:"init",value:function(e){var t=document.getElementById("file");document.querySelector(".editor");t.addEventListener("change",function(t){var n=new FormData;n.append("file",t.target.files[0]),(0,s["default"])({url:u["default"].upload,method:"POST",data:n,processData:!1,contentType:!1}).then(function(t){var n=JSON.parse(t);e(n)})})}}]),e}();t["default"]=new l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(23),s=r(a),c=n(7),u=r(c),l=n(22),f=r(l),p=function(){function e(){i(this,e)}return o(e,[{
key:"toggle",value:function(){var e=document.getElementById("evaluate");e.style.display="block"===e.style.display?"none":"block"}},{key:"init",value:function(e){var t=this,n=document.getElementById("evaluate");n.querySelector(".close").addEventListener("click",function(){t.toggle()});var r=n.querySelectorAll("li");[].forEach.call(r,function(e){e.addEventListener("click",function(){for(var t=0;t<r.length;t++)r[t].className=r[t].className.replace(/ |selected/g,"");e.className=e.className+" selected"})}),n.querySelector(".btn").addEventListener("click",function(){var r=n.querySelector("textarea"),i=n.querySelector(".selected").className.replace(/ |selected/g,""),o=r.value,a=u["default"].get("order_id");(0,s["default"])({url:f["default"].evaluate,method:"POST",data:{level:i,content:o,order_id:a}}).then(function(n){t.toggle(),e(n),r.value=""})})}}]),e}();t["default"]=new p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=r(a),c=n(39),u=r(c),l=n(8),f=r(l);n(40);var p=function(){function e(t){i(this,e),this.groups=t,this.elm=document.createElement("div"),this.elm.id="group"}return o(e,[{key:"render",value:function(e){var t=new f["default"](u["default"]).render({groups:this.groups});this.elm.innerHTML=t,e.appendChild(this.elm);var n=this.elm.querySelectorAll(".group");[].forEach.call(n,function(e){e.addEventListener("click",function(e){var t=e.target.dataset.id;s["default"].set("group_id",t),s["default"].set("chatting",1),location.reload()})})}}]),e}();t["default"]=p},function(e,t){e.exports="<p>请选择客服组：</p> <ul> {{#each (groups)}} <li> <a class=group data-id={{this.id}}> {{this.name}} </a> </li> {{/each}} </ul>"},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(42),s=r(a),c=n(8),u=r(c),l=n(22),f=r(l),p=n(7),h=r(p),d=n(27),y=r(d),m=n(23),v=r(m);n(43);var g=function(){function e(t,n,r,o,a){i(this,e),this.elm=document.createElement("div"),this.elm.id="order",this.from=t,this.to=n,this.userInfo=r,this.orders=o,this.setting=a}return o(e,[{key:"validator",value:function(e,t){e.style.display="none";for(var n=0;n<t.length;n++){var r=t[n];r.className="",r.value||(e.innerText="请将问题填写完整",e.style.display="block",r.className="error")}}},{key:"render",value:function(e){var t=this,n=new u["default"](s["default"]).render({orders:this.orders,setting:this.setting});this.elm;this.elm.innerHTML=n,e.appendChild(this.elm);var r=this.elm.querySelector(".error-tips"),i=this.elm.querySelector("select"),o=this.elm.querySelector(".orders"),a=this.elm.querySelectorAll(".order"),c=this.elm.querySelector(".success"),l=this.elm.querySelector(".wrap"),p=c.querySelector("#reset");i.addEventListener("change",function(){if(o.style.display="block",0===this.selectedIndex)o.style.display="none";else{for(var e=0;e<a.length;e++)a[e].style.display="none";a[this.selectedIndex-1].style.display="block"}}),this.elm.querySelector("#submit").addEventListener("click",function(){for(var e=null,n=0;n<a.length;n++)"block"===a[n].style.display&&(e=a[n]);var o=e.elements;if(t.validator(r,o),"block"!==r.style.display){for(var s={},n=0;n<o.length;n++){var u=o[n];s[u.name]=u.value}var p={from:t.from,to:t.to,title:i.value,body:JSON.stringify(s)};(0,v["default"])({url:f["default"].send,method:"POST",data:p}).then(function(e){e.success?(l.style.display="none",c.style.display="block",h["default"].set("chatting",1)):(r.style.display="block",r.innerText=e.msg)})}}),p.addEventListener("click",function(){var n=new y["default"](t.from,t.to,t.userInfo,t.setting);e.removeChild(t.elm),n.render(e)})}}]),e}();t["default"]=g},function(e,t){e.exports='<div class=error-tips> </div> <div class=wrap> <div class=header> <div class=title> 请选择您遇到的问题 </div> <select name="" id=""> <option value="">选择问题</option> {{#each (orders)}} <option value={{this.title}}>{{this.title}}</option> {{/each}} </select> </div> <div class=orders style=display:none> {{#each (orders)}} <form class=order style=display:none> {{#each (this.items)}} {{#if (this.type === \'input\')}} <div class=form-item> <input name={{this.placeholder}} placeholder={{this.placeholder}} /> </div> {{else}} <div class=form-item> <textarea name={{this.placeholder}} placeholder={{this.placeholder}}></textarea> </div> {{/if}} {{/each}} </form> {{/each}} <div class=submit> <button id=submit class="btn btn-primary" style=background-color:#{{setting.title_bg_color}}>提交</button> </div> </div> </div> <div class=success> <h3>提交成功</h3> <p> <button id=reset class="btn btn-primary" style=background-color:#{{setting.title_bg_color}}>进入对话</button> </p> </div>'},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(45),s=r(a),c=n(8),u=r(c);n(46);var l=function(){function e(t){i(this,e),this.elm=document.createElement("div"),this.elm.id="header",this.setting=t,this.elm.style.backgroundColor="#"+t.title_bg_color,this.elm.style.color="#"+t.title_txt_color}return o(e,[{key:"render",value:function(e){var t=new u["default"](s["default"]).render({setting:this.setting});this.elm.innerHTML=t,e.appendChild(this.elm),this.elm.querySelector("#minimize").addEventListener("click",function(){window.parent.postMessage(JSON.stringify({action:"minimize"}),"*")})}}]),e}();t["default"]=l},function(e,t){e.exports='<img class=logo src={{setting.logo}}-avatar> <div class=info> <h3 class=name>{{setting.name}}</h3> </div> <a id=minimize class="pure-button button-xsmall" title=最小化> <span class="fa fa-angle-down"></span> </a>'},function(e,t){},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),o=r.source,u=r.id,l=r.path,f=c[u]&&l in c[u].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return p?(s("ignoring socket cache for %s",o),n=a(o,t)):(c[u]||(s("new io instance for %s",o),c[u]=a(o,t)),n=c[u]),n.socket(r.path)}var i=n(48),o=n(53),a=n(61),s=n(50)("socket.io-client");e.exports=t=r;var c=t.managers={};t.protocol=o.protocol,t.connect=r,t.Manager=n(61),t.Socket=n(88)},function(e,t,n){(function(t){function r(e,n){var r=e,n=n||t.location;null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(o("protocol-less url %s",e),e="undefined"!=typeof n?n.protocol+"//"+e:"https://"+e),o("parse %s",e),r=i(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=r.host.indexOf(":")!==-1,s=a?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port,r.href=r.protocol+"://"+s+(n&&n.port==r.port?"":":"+r.port),r}var i=n(49),o=n(50)("socket.io-client:url");e.exports=r}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");i!=-1&&o!=-1&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return i!=-1&&o!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function s(){var e;try{e=t.storage.debug}catch(n){}return e}function c(){try{return window.localStorage}catch(e){}}t=e.exports=n(51),t.log=o,t.formatArgs=i,t.save=a,t.load=s,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t,n){function r(){return t.colors[l++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,o=n-(u||n);e.diff=o,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var o=a[s];n=i.call(e,o),a.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var c=i.log||t.log||console.log.bind(console);c.apply(e,a)}n.enabled=!1,i.enabled=!0;var o=t.enabled(e)?i:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=c,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(52),t.names=[],t.skips=[],t.formatters={};var u,l=0},function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function i(e){return o(e,u,"day")||o(e,c,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?i(e):r(e)}},function(e,t,n){function r(){}function i(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=f.stringify(e.data)),l("encoded %j as %s",e,n),n}function o(e,t){function n(e){var n=h.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)}h.removeBlobs(e,n)}function a(){this.reconstructor=null}function s(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return u();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==e.charAt(r+1))for(n.nsp="";++r;){var o=e.charAt(r);if(","==o)break;if(n.nsp+=o,r==e.length)break}else n.nsp="/";var a=e.charAt(r+1);if(""!==a&&Number(a)==a){for(n.id="";++r;){var o=e.charAt(r);if(null==o||Number(o)!=o){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}if(e.charAt(++r))try{n.data=f.parse(e.substr(r))}catch(s){return u()}return l("decoded %s as %j",e,n),n}function c(e){this.reconPack=e,this.buffers=[]}function u(e){return{type:t.ERROR,data:"parser error"}}var l=n(50)("socket.io-parser"),f=n(54),p=(n(57),n(58)),h=n(59),d=n(60);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=a,r.prototype.encode=function(e,n){if(l("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)o(e,n);else{var r=i(e);n([r])}},p(a.prototype),a.prototype.add=function(e){var n;if("string"==typeof e)n=s(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new c(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!d(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,this.emit("decoded",n))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r;(function(e,i){(function(){function o(e,t){function n(e){if(n[e]!==m)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,l="function"==typeof u&&b;if(l){(a=function(){return 1}).toJSON=a;try{l="0"===u(0)&&"0"===u(new r)&&'""'==u(new i)&&u(g)===m&&u(m)===m&&u()===m&&"1"===u(a)&&"[1]"==u([a])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,g,null])&&u({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,a)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new c((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==u(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new c((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==u(new c((-1)))}catch(f){l=!1}}o=l}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){a=p(s);var h=5==a.a.length&&1===a.a[0];if(h){try{h=!p('"\t"')}catch(f){}if(h)try{h=1!==p("01")}catch(f){}if(h)try{h=1!==p("1.")}catch(f){}}}}catch(f){h=!1}o=h}}return n[e]=!!o}e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,i=e.String||u.String,a=e.Object||u.Object,c=e.Date||u.Date,l=e.SyntaxError||u.SyntaxError,f=e.TypeError||u.TypeError,p=e.Math||u.Math,h=e.JSON||u.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var d,y,m,v=a.prototype,g=v.toString,b=new c((-0xc782b5b800cec));try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(x){}if(!n("json")){var w="[object Function]",_="[object Date]",k="[object Number]",E="[object String]",S="[object Array]",T="[object Boolean]",A=n("bug-string-char-index");if(!b)var C=p.floor,N=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(e,t){return N[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((d=v.hasOwnProperty)||(d=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?d=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,d=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,d.call(this,e)}),y=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)d.call(r,i)&&o++;return n=r=null,o?y=2==o?function(e,t){var n,r={},i=g.call(e)==w;for(n in e)i&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(e,n)||t(n)}:function(e,t){var n,r,i=g.call(e)==w;for(n in e)i&&"prototype"==n||!d.call(e,n)||(r="constructor"===n)||t(n);(r||d.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],y=function(e,t){var n,i,o=g.call(e)==w,a=!o&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||d;for(n in e)o&&"prototype"==n||!a.call(e,n)||t(n);for(i=r.length;n=r[--i];a.call(e,n)&&t(n));}),y(e,t)},!n("json-stringify")){var j={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},O="000000",B=function(e,t){return(O+(t||0)).slice(-e)},L="\\u00",P=function(e){for(var t='"',n=0,r=e.length,i=!A||r>10,o=i&&(A?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=j[a];break;default:if(a<32){t+=L+B(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},R=function(e,t,n,r,i,o,a){var s,c,u,l,p,h,v,b,x,w,A,N,j,O,L,D;try{s=t[e]}catch(q){}if("object"==typeof s&&s)if(c=g.call(s),c!=_||d.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=k&&c!=E&&c!=S||d.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(I){for(p=C(s/864e5),u=C(p/365.2425)+1970-1;I(u+1,0)<=p;u++);for(l=C((p-I(u,0))/30.42);I(u,l+1)<=p;l++);p=1+p-I(u,l),h=(s%864e5+864e5)%864e5,v=C(h/36e5)%24,b=C(h/6e4)%60,x=C(h/1e3)%60,w=h%1e3}else u=s.getUTCFullYear(),l=s.getUTCMonth(),p=s.getUTCDate(),v=s.getUTCHours(),b=s.getUTCMinutes(),x=s.getUTCSeconds(),w=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+B(6,u<0?-u:u):B(4,u))+"-"+B(2,l+1)+"-"+B(2,p)+"T"+B(2,v)+":"+B(2,b)+":"+B(2,x)+"."+B(3,w)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(c=g.call(s),c==T)return""+s;if(c==k)return s>-1/0&&s<1/0?""+s:"null";if(c==E)return P(""+s);if("object"==typeof s){for(O=a.length;O--;)if(a[O]===s)throw f();if(a.push(s),A=[],L=o,o+=i,c==S){for(j=0,O=s.length;j<O;j++)N=R(j,s,n,r,i,o,a),A.push(N===m?"null":N);D=A.length?i?"[\n"+o+A.join(",\n"+o)+"\n"+L+"]":"["+A.join(",")+"]":"[]"}else y(r||s,function(e){var t=R(e,s,n,r,i,o,a);t!==m&&A.push(P(e)+":"+(i?" ":"")+t)}),D=A.length?i?"{\n"+o+A.join(",\n"+o)+"\n"+L+"}":"{"+A.join(",")+"}":"{}";return a.pop(),D}};t.stringify=function(e,t,n){var r,i,o,a;if(s[typeof t]&&t)if((a=g.call(t))==w)i=t;else if(a==S){o={};for(var c,u=0,l=t.length;u<l;c=t[u++],a=g.call(c),(a==E||a==k)&&(o[c]=1));}if(n)if((a=g.call(n))==k){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==E&&(r=n.length<=10?n:n.slice(0,10));return R("",(c={},c[""]=e,c),i,o,r,"",[])}}if(!n("json-parse")){var D,q,U=i.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},H=function(){throw D=q=null,l()},$=function(){for(var e,t,n,r,i,o=q,a=o.length;D<a;)switch(i=o.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=A?o.charAt(D):o[D],D++,e;case 34:for(e="@",D++;D<a;)if(i=o.charCodeAt(D),i<32)H();else if(92==i)switch(i=o.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[i],D++;break;case 117:for(t=++D,n=D+4;D<n;D++)i=o.charCodeAt(D),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||H();e+=U("0x"+o.slice(t,D));break;default:H()}else{if(34==i)break;for(i=o.charCodeAt(D),t=D;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++D);e+=o.slice(t,D)}if(34==o.charCodeAt(D))return D++,e;H();default:if(t=D,45==i&&(r=!0,i=o.charCodeAt(++D)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(D+1),i>=48&&i<=57)&&H(),r=!1;D<a&&(i=o.charCodeAt(D),i>=48&&i<=57);D++);if(46==o.charCodeAt(D)){for(n=++D;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==D&&H(),D=n}if(i=o.charCodeAt(D),101==i||69==i){for(i=o.charCodeAt(++D),43!=i&&45!=i||D++,n=D;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==D&&H(),D=n}return+o.slice(t,D)}if(r&&H(),"true"==o.slice(D,D+4))return D+=4,!0;if("false"==o.slice(D,D+5))return D+=5,!1;if("null"==o.slice(D,D+4))return D+=4,null;H()}return"$"},z=function(e){var t,n;if("$"==e&&H(),"string"==typeof e){if("@"==(A?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=$(),"]"!=e;n||(n=!0))n&&(","==e?(e=$(),"]"==e&&H()):H()),","==e&&H(),t.push(z(e));return t}if("{"==e){for(t={};e=$(),"}"!=e;n||(n=!0))n&&(","==e?(e=$(),"}"==e&&H()):H()),","!=e&&"string"==typeof e&&"@"==(A?e.charAt(0):e[0])&&":"==$()||H(),t[e.slice(1)]=z($());return t}H()}return e},F=function(e,t,n){var r=G(e,t,n);r===m?delete e[t]:e[t]=r},G=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(g.call(i)==S)for(r=i.length;r--;)F(i,r,n);else y(i,function(e){F(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return D=0,q=""+e,n=z($()),"$"!=$()&&H(),D=q=null,t&&g.call(t)==w?G((r={},r[""]=n,r),"",t):n}}}return t.runInContext=o,t}var a=n(56),s={"function":!0,object:!0},c=s[typeof t]&&t&&!t.nodeType&&t,u=s[typeof window]&&window||this,l=c&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(u=l),c&&!a)o(u,c);else{var f=u.JSON,p=u.JSON3,h=!1,d=o(u,u.JSON3={noConflict:function(){return h||(h=!0,u.JSON=f,u.JSON3=p,f=p=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}a&&(r=function(){return d}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)}).call(t,n(55)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(57),i=n(60);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(i(e)){var o={_placeholder:!0,num:n.length};return n.push(e),o}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s]);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var c in e)a[c]=t(e[c]);return a}return e}var n=[],o=e.data,a=e;return a.data=t(o),a.attachments=n.length,{packet:a,buffers:n}},t.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var i=t[e.num];return i}if(r(e)){for(var o=0;o<e.length;o++)e[o]=n(e[o]);return e}if(e&&"object"==typeof e){for(var a in e)e[a]=n(e[a]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function o(t,c,u){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:s=this.result,--a||n(s)},l.readAsArrayBuffer(t)}else if(r(t))for(var f=0;f<t.length;f++)o(t[f],f,t);else if(t&&"object"==typeof t&&!i(t))for(var p in t)o(t[p],p,t)}var a=0,s=t;o(s),a||n(s)}}).call(t,function(){return this}())},function(e,t){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(e,t)}var i=n(62),o=n(88),a=n(89),s=n(53),c=n(91),u=n(92),l=n(50)("socket.io-client:manager"),f=n(86),p=n(94),h=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(t,"open",function(){n.onopen(),e&&e()}),o=c(t,"error",function(t){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var s=setTimeout(function(){l("connect attempt timed out after %d",a),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",u(this,"ondata"))),this.subs.push(c(e,"ping",u(this,"onping"))),this.subs.push(c(e,"pong",u(this,"onpong"))),this.subs.push(c(e,"error",u(this,"onerror"))),this.subs.push(c(e,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},r.prototype.socket=function(e){function t(){~f(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new o(this,e),this.nsps[e]=n;var r=this;n.on("connecting",t),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&t()}return n},r.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){l("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){l("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(63)},function(e,t,n){e.exports=n(64),e.exports.parser=n(71)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=l(e),n.hostname=e.host,n.secure="https"==e.protocol||"wss"==e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=l(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"==location.protocol,
n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized;var i="object"==typeof t&&t;i.global===i&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=n(65),a=n(79),s=n(50)("engine.io-client:socket"),c=n(86),u=n(71),l=n(49),f=n(87),p=n(80);e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=u.protocol,r.Socket=r,r.Transport=n(70),r.transports=n(65),r.parser=n(71),r.prototype.createTransport=function(e){s('creating transport "%s"',e);var t=i(this.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new o[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){s("setting transport %s",e.name);var t=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;f=f||t}f||(s('probe transport "%s" opened',e),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(t){if(!f)if("pong"==t.type&&"probe"==t.data){if(s('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",l),!l)return;r.priorWebsocketSuccess="websocket"==l.name,s('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){f||"closed"!=p.readyState&&(s("changing transport and sending upgrade packet"),u(),p.setTransport(l),l.send([{type:"upgrade"}]),p.emit("upgrade",l),l=null,p.upgrading=!1,p.flush())})}else{s('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=l.name,p.emit("upgradeError",n)}}))}function n(){f||(f=!0,u(),l.close(),l=null)}function i(t){var r=new Error("probe error: "+t);r.transport=l.name,n(),s('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function c(e){l&&e.name!=l.name&&(s('"%s" works - aborting "%s"',e.name,l.name),n())}function u(){l.removeListener("open",t),l.removeListener("error",i),l.removeListener("close",o),p.removeListener("close",a),p.removeListener("upgrading",c)}s('probing transport "%s"',e);var l=this.createTransport(e,{probe:1}),f=!1,p=this;r.priorWebsocketSuccess=!1,l.once("open",t),l.once("error",i),l.once("close",o),this.once("close",a),this.once("upgrading",c),l.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(f(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){s("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~c(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function r(t){var n,r=!1,s=!1,c=!1!==t.jsonp;if(e.location){var u="https:"==location.protocol,l=location.port;l||(l=u?443:80),r=t.hostname!=location.hostname||l!=t.port,s=t.secure!=u}if(t.xdomain=r,t.xscheme=s,n=new i(t),"open"in n&&!t.forceJSONP)return new o(t);if(!c)throw new Error("JSONP disabled");return new a(t)}var i=n(66),o=n(68),a=n(83),s=n(84);t.polling=r,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){var r=n(67);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},function(e,t,n){(function(t){function r(){}function i(e){if(c.call(this,e),t.location){var n="https:"==location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!=t.location.hostname||r!=e.port,this.xs=e.secure!=n}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(66),c=n(69),u=n(79),l=n(81),f=n(50)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,l(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},i.prototype.doPoll=function(){f("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{f("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}}catch(a){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}"withCredentials"in n&&(n.withCredentials=!0),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){4==n.readyState&&(200==n.status||1223==n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},f("xhr data %s",this.data),n.send(this.data)}catch(a){return void setTimeout(function(){r.onError(a)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(n){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var r=new Uint8Array(this.xhr.response),i=[],o=0,a=r.length;o<a;o++)i.push(r[o]);e=String.fromCharCode.apply(null,i)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},t.document&&(o.requestsCount=0,o.requests={},t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=e&&e.forceBase64;l&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(70),o=n(80),a=n(71),s=n(81),c=n(82),u=n(50)("engine.io-client:polling");e.exports=r;var l=function(){var e=n(66),t=new e({xdomain:!1});return null!=t.responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||t()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,r){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};a.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var i=n(71),o=n(79);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=v[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function a(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(m)return o(e,n,r);var i=new Uint8Array(1);i[0]=v[e.type];var a=new x([i.buffer,e.data]);return r(a)}function s(e,t,n){for(var r=new Array(e.length),i=p(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var c=n(72),u=n(73),l=n(74),f=n(75),p=n(76),h=n(77),d=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),m=d||y;t.protocol=3;var v=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=c(v),b={type:"error",data:"parser error"},x=n(78);t.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return i(t,n,s);if(x&&c instanceof e.Blob)return a(t,n,s);if(c&&c.base64)return r(t,s);var u=v[t.type];return void 0!==t.data&&(u+=o?h.encode(String(t.data)):String(t.data)),s(""+u)},t.encodeBase64Packet=function(n,r){var i="b"+t.packets[n.type];if(x&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(n.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(s){for(var c=new Uint8Array(n.data),u=new Array(c.length),l=0;l<c.length;l++)u[l]=c[l];a=String.fromCharCode.apply(null,u)}return i+=e.btoa(a),r(i)},t.decodePacket=function(e,n,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r)try{e=h.decode(e)}catch(i){return b}var o=e.charAt(0);return Number(o)==o&&g[o]?e.length>1?{type:g[o],data:e.substring(1)}:{type:g[o]}:b}var a=new Uint8Array(e),o=a[0],s=l(e,1);return x&&"blob"===n&&(s=new x([s])),{type:g[o],data:s}},t.decodeBase64Packet=function(t,n){var r=g[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=f.decode(t.substr(1));return"blob"===n&&x&&(i=new x([i])),{type:r,data:i}},t.encodePayload=function(e,n,r){function i(e){return e.length+":"+e}function o(e,r){t.encodePacket(e,!!a&&n,!0,function(e){r(null,i(e))})}"function"==typeof n&&(r=n,n=null);var a=u(e);return n&&a?x&&!m?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void s(e,o,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==e)return r(b,0,1);for(var o,a,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"!=l)s+=l;else{if(""==s||s!=(o=Number(s)))return r(b,0,1);if(a=e.substr(c+1,o),s!=a.length)return r(b,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),b.type==i.type&&b.data==i.data)return r(b,0,1);var f=r(i,c+o,u);if(!1===f)return}c+=o,s=""}}return""!=s?r(b,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void s(e,r,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}t?i[o++]=0:i[o++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function r(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,x){var c=new x([t.buffer,s.buffer,e]);n(null,c)}})}s(e,r,function(e,t){return n(new x(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],u="",f=1;255!=s[f];f++){if(u.length>310){a=!0;break}u+=s[f]}if(a)return r(b,0,1);i=l(i,2+u.length),u=parseInt(u);var p=l(i,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(h){var d=new Uint8Array(p);p="";for(var f=0;f<d.length;f++)p+=String.fromCharCode(d[f])}o.push(p),i=l(i,u)}var y=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,y)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n(e[o]))return!0}return!1}return n(e)}var i=n(57);e.exports=r}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),f[u++]=r<<2|i>>4,f[u++]=(15&i)<<4|o>>2,f[u++]=(3&o)<<6|63&a;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){function n(e,t,n){function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=n):0!==i.count||o||t(null,r)}var o=!1;return n=n||r,i.count=e,0===e?t():i}function r(){}e.exports=n},function(e,t,n){var r;(function(e,i){!function(o){function a(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function s(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=x(t>>>10&1023|55296),t=56320|1023&t),i+=x(t);return i}function c(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function u(e,t){return x(e>>t&63|128)}function l(e){if(0==(4294967168&e))return x(e);var t="";return 0==(4294965248&e)?t=x(e>>6&31|192):0==(4294901760&e)?(c(e),t=x(e>>12&15|224),t+=u(e,6)):0==(4292870144&e)&&(t=x(e>>18&7|240),t+=u(e,12),t+=u(e,6)),t+=x(63&e|128)}function f(e){for(var t,n=a(e),r=n.length,i=-1,o="";++i<r;)t=n[i],o+=l(t);return o}function p(){if(b>=g)throw Error("Invalid byte index");var e=255&v[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function h(){var e,t,n,r,i;if(b>g)throw Error("Invalid byte index");if(b==g)return!1;if(e=255&v[b],b++,0==(128&e))return e;if(192==(224&e)){var t=p();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=p(),n=p(),i=(15&e)<<12|t<<6|n,i>=2048)return c(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=p(),n=p(),r=p(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function d(e){v=a(e),g=v.length,b=0;for(var t,n=[];(t=h())!==!1;)n.push(t);return s(n)}var y="object"==typeof t&&t,m=("object"==typeof e&&e&&e.exports==y&&e,"object"==typeof i&&i);m.global!==m&&m.window!==m||(o=m);var v,g,b,x=String.fromCharCode,w={version:"2.0.0",encode:f,decode:d};r=function(){return w}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(55)(e),function(){return this}())},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new o;n(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var o=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),s=a&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),c=o&&o.prototype.append&&o.prototype.getBlob;e.exports=function(){return a?s?t.Blob:i:c?r:void 0}()}).call(t,function(){return this}())},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do t=a[e%s]+t,e=Math.floor(e/s);while(e>0);return t}function r(e){var t=0;for(l=0;l<e.length;l++)t=t*s+c[e.charAt(l)];return t}function i(){var e=n(+new Date);return e!==o?(u=0,o=e):e+"."+n(u++)}for(var o,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,c={},u=0,l=0;l<s;l++)c[a[l]]=l;i.encode=n,i.decode=r,e.exports=i},function(e,t,n){(function(t){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var o=n(69),a=n(81);e.exports=i;var s,c=/\n/g,u=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(t)}catch(e){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(u,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=n(70),o=n(71),a=n(80),s=n(81),c=n(82),u=n(50)("engine.io-client:websocket"),l=t.WebSocket||t.MozWebSocket,f=l;if(!f&&"undefined"==typeof window)try{f=n(85)}catch(p){}e.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=l?new f(e):new f(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,
this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var i=e.length,a=0,s=i;a<s;a++)!function(e){o.encodePacket(e,r.supportsBinary,function(o){if(!l){var a={};if(e.options&&(a.compress=e.options.compress),r.perMessageDeflate){var s="string"==typeof o?t.Buffer.byteLength(o):o.length;s<r.perMessageDeflate.threshold&&(a.compress=!1)}}try{l?r.ws.send(o):r.ws.send(o,a)}catch(c){u("websocket closed before onclose event")}--i||n()})}(e[a])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var i=n(53),o=n(89),a=n(90),s=n(91),c=n(92),u=n(50)("socket.io-client:socket"),l=n(93);e.exports=t=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(f.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n=i.EVENT;l(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r);var o=l(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function n(e){if(e)return r(e)}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){function n(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=n},function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=n},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(t){function r(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(i(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n(e[o]))return!0}return!1}return n(e)}var i=n(57);e.exports=r}).call(t,function(){return this}())},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t){},function(e,t){},,,,,,,,,,,,,function(e,t){"use strict";function n(e){return n[e]}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var n={};location.search.substr(1).split("&").filter(function(e){return e}).map(function(e){var t=e.split("=");n[t[0]]=decodeURIComponent(t[1])})}]);